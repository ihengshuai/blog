import{_ as l,c as e,J as s,V as o,o as c,G as n}from"./chunks/framework.SV1ROkXV.js";const C=JSON.parse('{"title":"ä½¿ç”¨Dockeræ­å»ºnpmä»“åº“","description":"ä½¿ç”¨Dockeræ­å»ºå±äºè‡ªå·±çš„npmç§æœ‰ä»“åº“çš„å®Œæ•´æ•™ç¨‹","frontmatter":{"title":"ä½¿ç”¨Dockeræ­å»ºnpmä»“åº“","description":"ä½¿ç”¨Dockeræ­å»ºå±äºè‡ªå·±çš„npmç§æœ‰ä»“åº“çš„å®Œæ•´æ•™ç¨‹","keywords":"npmç§æœ‰ä»“åº“,æ­å»ºnpmä»“åº“,dockeræ­å»ºnpmä»“åº“","logo":"https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-npm.png"},"headers":[],"relativePath":"fullstack/docker/npm-repository.md","filePath":"fullstack/docker/npm-repository.md","lastUpdated":1709440279000}'),r={name:"fullstack/docker/npm-repository.md"},t=o(`<h1 id="ä½¿ç”¨dockeræ­å»ºnpmä»“åº“" tabindex="-1">ä½¿ç”¨Dockeræ­å»ºnpmä»“åº“ <a class="header-anchor" href="#ä½¿ç”¨dockeræ­å»ºnpmä»“åº“" aria-label="Permalink to &quot;ä½¿ç”¨Dockeræ­å»ºnpmä»“åº“&quot;">â€‹</a></h1><p>åœ¨å…¬å¸å›¢é˜Ÿå†…ä¸€èˆ¬éƒ½ä¼šæ‹¥æœ‰ç§æœ‰çš„å·¥å…·åŒ…æˆ–è€…å…¶ä»–ä¾èµ–ï¼Œè¿™äº›ä¸œè¥¿åˆæ˜¯æ¯”è¾ƒæ•æ„Ÿçš„ä¿¡æ¯ï¼Œå› æ­¤å¦‚npmç§åº“çš„æ­å»ºåœ¨å…¬å¸å†…éƒ¨å¿…ä¸å¯å°‘ã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ç§åº“æ­å»ºæ–¹å¼æœ‰å¾ˆå¤šï¼Œæœ¬ç¯‡é€šè¿‡<code>docker+nexus3</code>çš„è¿›è¡Œæ­å»ºã€‚ æœ¬äººä½¿ç”¨ARMæ¶æ„Centos7.9è™šæ‹Ÿæœºç¯å¢ƒè¿›è¡Œæ­å»ºï¼Œè¯·ä½ é˜…å‰äº†è§£</p></div><h2 id="å®‰è£…docker" tabindex="-1">å®‰è£…docker <a class="header-anchor" href="#å®‰è£…docker" aria-label="Permalink to &quot;å®‰è£…docker&quot;">â€‹</a></h2><p>dockerå®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒæœ¬äººçš„ <a href="/fullstack/docker/install-configure.html">dockerå®‰è£…ä¸€æ–‡</a></p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> yum remove docker </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-client </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-client-latest </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-common </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-latest </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-latest-logrotate </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-logrotate </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  docker-engine</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> yum install -y yum-utils</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> yum-config-manager </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --add-repo</span><span style="color:#C3E88D;"> https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æŸ¥çœ‹å¯å®‰è£…çš„dockerç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> yum list docker-ce --showduplicates </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;"> sort</span><span style="color:#C3E88D;"> -r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># å¯åŠ¨docker</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#C3E88D;"> systemctl start docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="å®‰è£…nexus3" tabindex="-1">å®‰è£…nexus3 <a class="header-anchor" href="#å®‰è£…nexus3" aria-label="Permalink to &quot;å®‰è£…nexus3&quot;">â€‹</a></h2><ol><li><p>è¿™é‡Œé‡‡ç”¨å®¿ä¸»æœºå·æ˜ å°„ï¼Œå…ˆåˆ›å»ºnexusé…ç½®å·</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#C3E88D;"> -p</span><span style="color:#C3E88D;"> /srv/nexus</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æˆæƒ</span></span>
<span class="line"><span style="color:#FFCB6B;">chown</span><span style="color:#C3E88D;"> -R</span><span style="color:#F78C6C;"> 200</span><span style="color:#C3E88D;"> /srv/nexus</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>ä¸‹è½½é•œåƒå¹¶è¿è¡Œ</p><p>è¿™é‡Œæœ¬äººæ˜¯åœ¨armæ¶æ„çš„Centosä¸Šå®‰è£…çš„ï¼Œéœ€è¦æ”¯æŒarmæ¶æ„çš„nexusé•œåƒï¼Œç”±äºå®˜æ–¹é•œåƒæ²¡æœ‰æä¾›æ”¯æŒarmæ¶æ„çš„é•œåƒï¼Œè¿™é‡Œé€‰æ‹©äº†åˆ«äººç¼–è¯‘å¥½çš„æ”¯æŒ<a href="https://hub.docker.com/r/klo2k/nexus3" target="_blank" rel="noreferrer">armæ¶æ„çš„é•œåƒ</a>ï¼Œä½ å¯ä»¥é€‰æ‹©éarmæ¶æ„çš„<a href="https://hub.docker.com/search?q=nexus3" target="_blank" rel="noreferrer">å®˜æ–¹é•œåƒ</a></p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å¯åŠ¨nexus3å®¹å™¨ï¼Œä¼šä»è¿œç¨‹æ‹‰å–é•œåƒ</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> pull klo2k/nexus3 # armæ¶æ„</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># è¿è¡Œå®¹å™¨</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> run -d --name nexus3 --restart=always </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    -p</span><span style="color:#F78C6C;"> 8081</span><span style="color:#C3E88D;">:8081 </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    -p</span><span style="color:#F78C6C;"> 8000</span><span style="color:#C3E88D;">-8010:8000-8010 </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    -v</span><span style="color:#C3E88D;"> /srv/nexus:/nexus-data </span><span style="color:#BABED8;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    klo2k/nexus3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>nexuså†…éƒ¨é»˜è®¤ä¼šä½¿ç”¨<code>8001</code>ä½œä¸ºhttpè®¿é—®çš„ç«¯å£ï¼ŒæŠŠå®ƒæ˜ å°„åˆ°ä¸»æœºä¸Šï¼Œç„¶åå†æš´éœ²ä¸€ä¸ªç«¯å£èŒƒå›´ä¾›åç»­å…¶ä»–ä½¿ç”¨</p></li><li><p>è¿è¡Œåæ ¹æ®æœºå™¨é…ç½®ä¸€èˆ¬éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä½ å¯ä»¥æŸ¥çœ‹å…¶è¿è¡Œæ—¥å¿—ï¼š</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> logs -f nexus3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h2 id="åˆå§‹å¯†ç " tabindex="-1">åˆå§‹å¯†ç  <a class="header-anchor" href="#åˆå§‹å¯†ç " aria-label="Permalink to &quot;åˆå§‹å¯†ç &quot;">â€‹</a></h2><p>nexusçš„é»˜è®¤è´¦æˆ·ä¸º<code>admin</code>ï¼Œåˆå§‹å¯†ç åœ¨å®¹å™¨å†…<code>/nexus-data/admin.password</code>æ–‡ä»¶ä¸­ï¼Œå¦‚æœä½ è¿›è¡Œäº†å·æŒ‚è½½ä¹Ÿå¯ä»¥åœ¨å®¿ä¸»æœºå·ä¸­æŸ¥çœ‹</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># è¿›å…¥å®¹å™¨æŸ¥çœ‹adminå¯†ç </span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> exec nexus3 cat /nexus-data/admin.password</span></span>
<span class="line"><span style="color:#FFCB6B;">b75981d3-affe-45f1-ba6f-10046b8bc4b9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æŒ‚è½½äº†æ•°æ®å·å¯ä»¥è¿›è¡Œæœ¬åœ°æŸ¥çœ‹</span></span>
<span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#C3E88D;"> /srv/nexus/admin.password</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="è®¿é—®nexus3" tabindex="-1">è®¿é—®nexus3 <a class="header-anchor" href="#è®¿é—®nexus3" aria-label="Permalink to &quot;è®¿é—®nexus3&quot;">â€‹</a></h2><p>è®¿é—®åœ°å€ä¸º<code>YourIP:PORT</code>å¦‚localhost:8081ï¼Œç”¨åˆå§‹è´¦å·å¯†ç è¿›è¡Œç™»å½•ï¼Œ<em>admin/xxxxx</em> ï¼Œåˆæ¬¡è¿›å…¥åå¯ä»¥ä¿®æ”¹å¯†ç </p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/nexus1.png" alt="nexus1"></p><p>åŸºæœ¬é¢æ¿å·¦ä¾§å¯ä»¥æŸ¥æ‰¾å¯¹åº”çš„ä»“åº“åŒ…æ–‡ä»¶ï¼ŒBrowerèœå•è¿›å…¥å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ä»“åº“</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320162008106.png" alt="image-20230320162008106"></p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320162051975.png" alt="image-20230320162051975"></p><p>ä¸Šé¢çš„è®¾ç½®æŒ‰é’®éœ€è¦æœ‰æƒé™æ‰å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰adminç”¨æˆ·ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºå…¶ä»–ç”¨æˆ·å¹¶åˆ†é…é€‚å½“çš„æƒé™ï¼Œæ‰€æœ‰çš„ä»“åº“å‚¨å­˜ã€è§’è‰²æƒé™ç­‰æ“ä½œéƒ½åœ¨è®¾ç½®é¢æ¿é‡Œé…ç½®ã€‚</p><p>é€šå¸¸æˆ‘ä»¬åªéœ€è¦å…³æ³¨ä¸‹å›¾çº¢æ¡†ä¸­çš„é…ç½®å³å¯</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320162812212.png" alt="image-20230320162812212"></p><h2 id="åˆ›å»ºå­˜å‚¨é›†" tabindex="-1">åˆ›å»ºå­˜å‚¨é›† <a class="header-anchor" href="#åˆ›å»ºå­˜å‚¨é›†" aria-label="Permalink to &quot;åˆ›å»ºå­˜å‚¨é›†&quot;">â€‹</a></h2><p>åˆ›å»ºæ•°æ®å­˜å‚¨å•å…ƒé›†ç”¨æ¥å­˜æ”¾æ•°æ®ï¼Œä½ å¯ä»¥å°†Blob storeç†è§£ä¸ºå­˜å‚¨æ–‡ä»¶çš„åœ°æ–¹ï¼Œrepositoryç›¸å½“äºæ•°æ®åº“ç”¨æ¥æ˜ å°„æ–‡ä»¶è·¯å¾„ã€‚</p><p>ä¸ºä»€ä¹ˆè¦åˆ›å»ºBlob Storeå‘¢ï¼Ÿå½“ä½ åˆ›å»ºäº†æŸä¸ªblobstoreå°±ä¼šæŸä¸ªå…³è”çš„repositoryçš„å†…å®¹å­˜å‚¨åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªblobstoreå…³è”å¤šä¸ªrepositoryï¼Œè¿™æ ·å°±é˜²æ­¢äº†æ•°æ®çš„æ±¡æŸ“ã€‚</p><p>ç‚¹å‡»å·¦ä¾§èœå•Blob Stores ï¼Œç„¶åç‚¹å‡»å³ä¾§ Create Blob Store æŒ‰é’®</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320163655564.png" alt="image-20230320163655564"></p><p>ç„¶ååˆ›å»ºé¡µé¢å…ˆé€‰æ‹©æ•°æ®ç±»å‹ï¼Œè¿™é‡Œé€‰æ‹© File ç±»å‹ï¼Œç„¶åç»™æ•°æ®å­˜å‚¨å•å…ƒå‘½åï¼Œæœ€å¥½è¯­ä¹‰æ˜ç¡®å¦‚ï¼šnpmï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼Œéƒ½å¡«å†™åç‚¹å‡»ä¿å­˜æŒ‰é’®å³å¯ï¼Œåˆ—è¡¨ä¸­å°±ä¼šçœ‹åˆ°åˆšåˆšåˆ›å»ºçš„å­˜å‚¨å•å…ƒé›†åˆ</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320163718336.png" alt="image-20230320163718336"></p><h2 id="åˆ›å»ºä»“åº“" tabindex="-1">åˆ›å»ºä»“åº“ <a class="header-anchor" href="#åˆ›å»ºä»“åº“" aria-label="Permalink to &quot;åˆ›å»ºä»“åº“&quot;">â€‹</a></h2><p>åˆ›å»ºä»“åº“å…³è”å­˜å‚¨é›†ï¼Œç‚¹å‡»å·¦ä¾§èœå•Repositories ï¼Œç„¶åç‚¹å‡»å³ä¾§ Create Repository æŒ‰é’®</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320163852830.png" alt="image-20230320163852830"></p><p>ç„¶åé€‰æ‹©<code>npm(hosted)</code>ï¼Œè¿™é‡Œä½ ä¼šçœ‹åˆ°æœ‰hostedã€proxyã€groupä¸‰ç±»npmä»“åº“ï¼Œä¸‰è€…åŒºåˆ«åé¢ä¼šè®²ã€‚</p><p>è¿›å…¥åˆ›å»ºä»“åº“é…ç½®é¡µé¢ï¼Œå¦‚ä¸‹ï¼Œéœ€è¦å¡«å†™ä»“åº“åç§°ã€å­˜å‚¨é›†ã€å‘å¸ƒç­–ç•¥</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320164334735.png" alt="image-20230320164334735"></p><p>æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>åŒä¸€ç±»å‹çš„ä»“åº“åéœ€è¦å”¯ä¸€ï¼Œé˜²æ­¢å’Œæ—§çš„ä»“åº“é‡å</li><li>å‚¨å­˜é›†é€‰æ‹©ä½ å‰é¢åˆ›å»ºçš„å­˜å‚¨é›†ï¼Œå¦‚npm</li><li>å‘å¸ƒç­–ç•¥ä¸­åŒ…å«é›†ä¸­ç­–ç•¥ï¼šæ ¹æ®ä½ çš„éœ€æ±‚è®¾ç½®ï¼Œè¿™é‡Œé€‰æ‹©å…è®¸é‡å‘ <ul><li>å…è®¸é‡å‘</li><li>ç¦æ­¢é‡å‘</li><li>åªè¯»</li><li>é€šè¿‡å¤åˆ¶å‘å¸ƒï¼ˆä¸æ¨èï¼‰ <blockquote><p>æ¥è‡ªå®˜æ–¹çš„è§£é‡Šï¼šIf you are using <a href="https://help.sonatype.com/repomanager3/nexus-repository-administration/repository-management/repository-replication-(legacy)" target="_blank" rel="noreferrer">replication</a>, this policy is automatically set to <em>Deploy by Replication Only.</em> This will block all deployment to the hosted repository except by the internal replication mechanism. You should not manually set this policy to <em>Deploy by Replication Only</em>. If you disable replication, Nexus Repository automatically restores your previous deployment policy.</p></blockquote></li></ul></li></ul><p>æœ€åç‚¹å‡»åˆ›å»ºä»“åº“æŒ‰é’®ï¼Œå°±å¯ä»¥åœ¨ä»“åº“åˆ—è¡¨ä¸­æ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„ä»“åº“äº†</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320165149705.png" alt="image-20230320165149705"></p><p>ç‚¹å‡»<code>copyæŒ‰é’®</code>æŸ¥çœ‹ä»“åº“åœ°å€</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320165406279.png" alt="image-20230320165406279"></p><h2 id="åˆ›å»ºè§’è‰²" tabindex="-1">åˆ›å»ºè§’è‰² <a class="header-anchor" href="#åˆ›å»ºè§’è‰²" aria-label="Permalink to &quot;åˆ›å»ºè§’è‰²&quot;">â€‹</a></h2><p>å‰é¢npm-hostedåˆ›å»ºå¥½åï¼Œå…¶å®å°±å¯ä»¥ä¸Šä¼ è‡ªå·±çš„npmåŒ…åˆ°è¿™ä¸ªä»“åº“äº†ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ç³»ç»Ÿè´¦æˆ·è¿›è¡Œç™»å½•å‘åŒ…ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºæ–°çš„ç”¨æˆ·å¹¶æˆæƒnpmç›¸å…³æƒé™ï¼Œå› æ­¤éœ€è¦åˆ›å»ºå¯¹åº”çš„è§’è‰²å’Œæƒé™</p><p>ç‚¹å‡»å·¦ä¾§<code>Roles</code>èœå•æ ï¼Œåœ¨å³ä¾§é¢æ¿ç‚¹å‡»åˆ›å»ºè§’è‰²ï¼Œå¡«å†™å¯¹åº”çš„è§’è‰²åã€idã€æè¿°ç­‰ï¼ˆä»ç„¶æ¨èè¯­ä¹‰æ˜ç¡®ï¼‰</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320165944937.png" alt="image-20230320165944937"></p><p>ç„¶åé€‰æ‹©å¯¹åº”çš„æƒé™ï¼Œæœç´¢npmï¼Œç‚¹å‡»<code>Transfer All</code>å°†æ‰€æœ‰åŠ å…¥å³ä¾§åˆ—è¡¨</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320170145483.png" alt="image-20230320170145483"></p><p>å¦‚æœä½ æœ‰è¿˜éœ€è¦å…¶ä»–æƒé™å¯ä»¥è‡ªè¡Œæ·»åŠ ï¼Œè¿™é‡Œè®²ä¸‹é™¤äº†å¯ä»¥é€‰æ‹©æƒé™å¤–ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å·²ç»å­˜åœ¨çš„è§’è‰²ï¼Œè¿™æ ·ä¹Ÿä¼šæ‹¥æœ‰å…¶æƒé™ï¼Œæ•ˆæœä¸€æ ·</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320170353059.png" alt="image-20230320170353059"></p><p>æœ€åç‚¹å‡»ä¿å­˜</p><h2 id="åˆ›å»ºç”¨æˆ·" tabindex="-1">åˆ›å»ºç”¨æˆ· <a class="header-anchor" href="#åˆ›å»ºç”¨æˆ·" aria-label="Permalink to &quot;åˆ›å»ºç”¨æˆ·&quot;">â€‹</a></h2><p>æœ‰äº†è§’è‰²å°±å¯ä»¥åˆ›å»ºç”¨æˆ·å…³è”æ­¤è§’è‰²äº†ï¼Œç‚¹å‡»å·¦ä¾§Usersèœå•ï¼Œåœ¨å³ä¾§é¢æ¿ä¸­ç‚¹å‡»åˆ›å»ºç”¨æˆ·</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320170654757.png" alt="image-20230320170654757"></p><ul><li>ç”¨æˆ·IDï¼šç”¨æ¥ç™»å½•npmçš„ç”¨æˆ·å</li><li>Firstnameï¼šæ˜¾ç¤ºåå­—ï¼Œéšæ„å¡«</li><li>Lastnameï¼šéšæ„å¡«</li><li>Emailï¼šå¯ä»¥éšæ„å¡«</li><li>passwordï¼šä½ çš„å¯†ç </li><li>statusï¼šç”¨æˆ·çŠ¶æ€ï¼Œé€‰æ‹©active</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>ä»¥ä¸Šçº¢æ¡†ä¸­éœ€è¦é‡è§†å…¶ä»–å¯ä»¥éšæ„å¡«</p></div><p>æ¥ç€å…³è”è§’è‰²ï¼Œå°†åˆšåˆšåˆ›å»ºçš„è§’è‰²ç§»å…¥å³ä¾§ï¼Œç‚¹å‡»åˆ›å»º</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320171019351.png" alt="image-20230320171019351"></p><h2 id="æƒé™è®¤è¯" tabindex="-1">æƒé™è®¤è¯ <a class="header-anchor" href="#æƒé™è®¤è¯" aria-label="Permalink to &quot;æƒé™è®¤è¯&quot;">â€‹</a></h2><p>æœ‰äº†ç›¸å…³çš„è§’è‰²åï¼Œéœ€è¦å¯¹ä¸€äº›æƒé™æ·»åŠ è®¤è¯ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ç™»å½•è®¤è¯ï¼Œæ‰å¯ä»¥è¿›è¡Œæ“ä½œ</p><p>ç‚¹å‡»å·¦ä¾§<code>Realms</code>èœå•ï¼Œå°†ä½ éœ€è¦è®¤è¯çš„æƒé™ç§»å…¥å³ä¾§ï¼Œç‚¹å‡»ä¿å­˜</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320171459435.png" alt="image-20230320171459435"></p><h2 id="å‘å¸ƒnpmåŒ…" tabindex="-1">å‘å¸ƒnpmåŒ… <a class="header-anchor" href="#å‘å¸ƒnpmåŒ…" aria-label="Permalink to &quot;å‘å¸ƒnpmåŒ…&quot;">â€‹</a></h2><ol><li><p>æœ¬åœ°ä½¿ç”¨npmåˆå§‹åŒ–åˆ›å»ºä¸€ä¸ªé¡¹ç›®</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> init -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™é‡Œpackage.jsonæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œä¸»æ–‡ä»¶ä¸º<code>index.js</code></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">test-deploy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">keywords</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [],</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">license</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">ISC</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>ç®€å•åˆ›å»ºä¸€ä¸ª<code>index.js</code>æ–‡ä»¶ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> add </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> (</span><span style="color:#BABED8;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> y</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> x </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> y</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">  add</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>è®¾ç½®npmä»“åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>npm config set registry xxxx</code> åˆ›å»ºï¼Œè¿™é‡Œæ¨èåœ¨é¡¹ç›®åˆ›å»º<code>.npmrc</code>æ–‡ä»¶</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># åœ°å€æ”¹ä¸ºè‡ªå·± npm-hosted ä»“åº“åœ°å€</span></span>
<span class="line"><span style="color:#BABED8;">registry</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://192.168.10.10:8081/repository/npm-hosted/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æˆ–è€…åœ¨<code>package.json</code>ä¸­æ·»åŠ ï¼š</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">publishConfig</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#C792EA;">registry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">http://192.168.10.10:8081/repository/npm-hosted/</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320172745102.png" alt="image-20230320172745102"></p></li><li><p>ç™»å½•å¹¶å‘å¸ƒ</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># ä½¿ç”¨åˆ›å»ºçš„ç”¨æˆ·ç™»å½•</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> login</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320173208309.png" alt="image-20230320173208309"></p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># å‘å¸ƒ</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> publish</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320173258611.png" alt="image-20230320173258611"></p></li><li><p>åœ¨ä»“åº“ä¸­æŸ¥çœ‹</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320173512796.png" alt="image-20230320173512796"></p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320173424057.png" alt="image-20230320173424057"></p></li></ol><h2 id="éªŒè¯npmåŒ…" tabindex="-1">éªŒè¯npmåŒ… <a class="header-anchor" href="#éªŒè¯npmåŒ…" aria-label="Permalink to &quot;éªŒè¯npmåŒ…&quot;">â€‹</a></h2><p>åœ¨ä¸€ä¸ªæ–°é¡¹ç›®ä¸­å®‰è£…ä¸Šä¼ çš„npmåŒ…ï¼Œæ³¨æ„å¦‚æœä½ æ²¡æœ‰è®¾ç½®npmå…¨å±€ä»“åº“é…ç½®ï¼Œéœ€è¦åˆ›å»º<code>.npmrc</code>æ·»åŠ npmä»“åº“</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320174205932.png" alt="image-20230320174205932"></p><p>å¯ä»¥çœ‹åˆ°å®‰è£…æˆåŠŸï¼Œæ¥ç€åˆ›å»º<code>index.js</code>æ–‡ä»¶å¹¶å¼•ç”¨é‡Œé¢çš„<code>add</code>æ–¹æ³•</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;">// index.js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#89DDFF;"> {</span><span style="color:#BABED8;"> add </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;"> =</span><span style="color:#82AAFF;"> require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test-deploy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">add</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320174525384.png" alt="image-20230320174525384"></p><p>å¯ä»¥çœ‹åˆ°è¿è¡ŒæˆåŠŸ</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œä¹‹æ‰€ä»¥å®‰è£…æˆåŠŸï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„åº“ä¸­æ²¡æœ‰ä¾èµ–å…¶ä»–çš„npmåŒ…ï¼Œå¦‚æœæœ‰ä¾èµ–ç§æœ‰ä»“åº“æ²¡æœ‰çš„npmåŒ…ï¼Œè¿™é‡Œå®‰è£…æ—¶å°±ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬å¤ç°ä¸‹ï¼š</p><p>é‡æ–°åœ¨æˆ‘ä»¬çš„npmåŒ…é‡Œå®‰è£…ä¸€ä¸ªç§æœ‰ä»“åº“æ²¡æœ‰çš„ä¾èµ–ï¼Œè¿™é‡Œå®‰è£…<code>day</code>ï¼Œæ³¨æ„éœ€è¦å…ˆæŠŠ<code>.npmrc</code>ä¸­çš„ä»“åº“æ³¨é‡Šæ‰ï¼Œè¿™æ ·å¯ä»¥ä»å®˜æ–¹çš„<code>npm</code>ä»“åº“ä¸­ä¸‹è½½</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># test-deploy ä¸­å®‰è£… day</span></span>
<span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops test-deploy npm install day</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice created a lockfile as package-lock.json. You should commit this file.</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> WARN test-deploy@1.0.0 No description</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> WARN test-deploy@1.0.0 No repository field.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">+</span><span style="color:#C3E88D;"> day@0.0.2</span></span>
<span class="line"><span style="color:#FFCB6B;">added</span><span style="color:#F78C6C;"> 1</span><span style="color:#C3E88D;"> package from </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;"> contributor and audited </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;"> package in </span><span style="color:#F78C6C;">1.57</span><span style="color:#C3E88D;">s</span></span>
<span class="line"><span style="color:#FFCB6B;">found</span><span style="color:#F78C6C;"> 0</span><span style="color:#C3E88D;"> vulnerabilities</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä¿®æ”¹ç‰ˆæœ¬å·ï¼š</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">test-deploy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">1.0.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {},</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">keywords</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [],</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">license</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">ISC</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">dependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">day</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">0.0.2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>é‡æ–°å‘å¸ƒï¼šæ³¨æ„<code>.npmrc</code>æ·»åŠ ä»“åº“åœ°å€</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops test-deploy npm publish</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice ğŸ“¦  test-deploy@1.0.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice === Tarball Contents ===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice </span><span style="color:#F78C6C;">56</span><span style="color:#C3E88D;">B  index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice </span><span style="color:#F78C6C;">208</span><span style="color:#C3E88D;">B package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice === Tarball Details ===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice name:          test-deploy</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice version:       </span><span style="color:#F78C6C;">1.0</span><span style="color:#C3E88D;">.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice package size:  </span><span style="color:#F78C6C;">305</span><span style="color:#C3E88D;"> B</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice unpacked size: </span><span style="color:#F78C6C;">264</span><span style="color:#C3E88D;"> B</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice shasum:        </span><span style="color:#F78C6C;">47437424</span><span style="color:#C3E88D;">c9652266929c74a9870e54c0fb0db253</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice integrity:     sha512-zU8+K0q2vJWgD[...]NSzuMA5PKURmw==</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice total files:   </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice</span></span>
<span class="line"><span style="color:#FFCB6B;">+</span><span style="color:#C3E88D;"> test-deploy@1.0.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>åœ¨å¦ä¸€ä¸ªé¡¹ç›®ä¸­é‡æ–°å®‰è£…æˆ‘ä»¬çš„åŒ…ï¼š</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops use-npm-package rm -rf node_modules package-lock.json</span></span>
<span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops use-npm-package npm i</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! code E404</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#C3E88D;"> Not Found - GET http://192.168.10.10:8081/repository/npm-hosted/day - Package </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">day</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> not found</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#89DDFF;">  &#39;</span><span style="color:#C3E88D;">day@0.0.2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> is not in the npm registry.</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#C3E88D;"> You should bug the author to publish it </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">or</span><span style="color:#C3E88D;"> use the name yourself!</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#C3E88D;"> It was specified as a dependency of </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test-deploy</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#C3E88D;"> Note that you can also install from a</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! </span><span style="color:#F78C6C;">404</span><span style="color:#C3E88D;"> tarball, folder, http url, or git url.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> ERR! A complete log of this run can be found in:</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å‘ç°å®‰è£…å¤±è´¥ï¼Œè¯´<code>npm ERR! 404 Not Found - GET http://192.168.10.10:8081/repository/npm-hosted/day - Package &#39;day&#39; not found</code>ï¼Œä¹Ÿå°±æ˜¯åœ¨æˆ‘ä»¬çš„ç§æœ‰ä»“åº“ä¸­æ‰¾ä¸åˆ°<code>day</code>npmåŒ…ï¼Œå…¶å®npmä¸‹è½½æ—¶ï¼Œä¹Ÿä¼šä¸‹è½½åŒ…çš„ä¾èµ–ï¼Œæ‰€ä»¥ä¼šé€ æˆè¿™ç§ç°è±¡ã€‚æ¥ä¸‹æ¥ä»‹ç»<code>proxyã€group</code>ä¸¤ç§ç±»å‹çš„ä»“åº“</p><h2 id="proxyå’Œgroupä»“åº“" tabindex="-1">proxyå’Œgroupä»“åº“ <a class="header-anchor" href="#proxyå’Œgroupä»“åº“" aria-label="Permalink to &quot;proxyå’Œgroupä»“åº“&quot;">â€‹</a></h2><p>nexus3å‡†å¤‡äº†3ç§ä»“åº“ç±»å‹ï¼š</p><ul><li>hostedï¼šæœ¬åœ°å­˜å‚¨ä»“åº“ï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨nexusæ‰˜ç®¡å­˜å‚¨åŒ…çš„ä»“åº“</li><li>proxyï¼šä»£ç†ä»“åº“ï¼Œå¯ä»¥ä»£ç†åˆ°å…¶ä»–ä»“åº“ï¼Œå¦‚npmå®˜æ–¹ä»“åº“ã€æ·˜å®ä»“åº“</li><li>groupï¼šç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€</li></ul><p>äº†è§£äº†è¿™å‡ ç§ä»“åº“ç±»å‹ï¼Œå°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜äº†ï¼Œé€šè¿‡proxyä»£ç†å…¶ä»–çš„ä»“åº“ï¼Œç„¶åä½¿ç”¨groupå…³è”hostedå’Œproxyï¼Œè¿™æ ·åœ¨å®‰è£…åŒ…æ–‡ä»¶æ—¶å¯¹äºç§åº“ä¸å­˜åœ¨çš„åŒ…å°±ä¼šä»£ç†åˆ°å…¶ä»–ä»“åº“ä¸‹è½½</p><h3 id="åˆ›å»ºproxy" tabindex="-1">åˆ›å»ºproxy <a class="header-anchor" href="#åˆ›å»ºproxy" aria-label="Permalink to &quot;åˆ›å»ºproxy&quot;">â€‹</a></h3><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320182138263.png" alt="image-20230320182138263"></p><p>é€‰æ‹©å­˜å‚¨é›†ä¸ºnpmï¼Œç‚¹å‡»åˆ›å»º</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320182220009.png" alt="image-20230320182220009"></p><h3 id="åˆ›å»ºgroup" tabindex="-1">åˆ›å»ºgroup <a class="header-anchor" href="#åˆ›å»ºgroup" aria-label="Permalink to &quot;åˆ›å»ºgroup&quot;">â€‹</a></h3><p>åˆ›å»ºä»“åº“é€‰æ‹©<code>npm(group)</code>ï¼Œé€‰æ‹©å­˜å‚¨é›†ï¼Œå°†<code>npm(hosted)</code>å’Œ<code>npm(proxy)</code>é€‰ä¸­ç§»å…¥å³ä¾§ååˆ›å»º</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/image-20230320182346688.png" alt="image-20230320182346688"></p><p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨<code>npm(group)</code>çš„åœ°å€ä½œä¸ºnpmç§åº“åœ°å€äº†</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä¾§çš„é¡ºåºæœ‰ä¼˜å…ˆçº§ï¼Œå½“å¤šä¸ªä»“åº“éƒ½æœ‰åŒä¸€ä¸ªåŒ…æ—¶ï¼Œä¼˜å…ˆä¸‹è½½ç¬¬ä¸€ä¸ªä»“åº“çš„åŒ…</p></div><h3 id="éªŒè¯ç§åº“" tabindex="-1">éªŒè¯ç§åº“ <a class="header-anchor" href="#éªŒè¯ç§åº“" aria-label="Permalink to &quot;éªŒè¯ç§åº“&quot;">â€‹</a></h3><p>éœ€è¦æ³¨æ„çš„æ˜¯å‘å¸ƒåŒ…åˆ°<code>npm-group</code>æ˜¯ä¸ªä»˜è´¹åŠŸèƒ½ğŸ˜‚ï¼Œä½ å¯ä»¥å‘å¸ƒåŒ…çš„æ—¶å€™ç”¨<code>npm-hosted</code>åœ°å€ï¼Œå®‰è£…åŒ…æ—¶ç”¨<code>npm-group</code></p><p>ä¿®æ”¹<code>.npmrc</code>ä¸ºä½ çš„groupåœ°å€</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># .npmrc</span></span>
<span class="line"><span style="color:#BABED8;">registry</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://192.168.10.10:8081/repository/npm-group/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># hostedä¹Ÿè¡Œï¼Œé‡æ–°æ‹‰å–</span></span>
<span class="line"><span style="color:#BABED8;">registry</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">http://192.168.10.10:8081/repository/npm-hosted/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>é‡æ–°å®‰è£…ï¼ŒæŸ¥çœ‹dayä¹Ÿè¢«æˆåŠŸå®‰è£…äº†</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops use-npm-package npm i</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> notice created a lockfile as package-lock.json. You should commit this file.</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> WARN use-npm-package@1.0.0 No description</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> WARN use-npm-package@1.0.0 No repository field.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">added</span><span style="color:#F78C6C;"> 2</span><span style="color:#C3E88D;"> packages from </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;"> contributor in </span><span style="color:#F78C6C;">0.108</span><span style="color:#C3E88D;">s</span></span>
<span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops use-npm-package tree -a</span></span>
<span class="line"><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#C3E88D;"> index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#C3E88D;"> node_modules</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;"> â”œâ”€â”€ day</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;"> â”‚Â Â  â”œâ”€â”€ day.js</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;"> â”‚Â Â  â”œâ”€â”€ package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;"> â”‚Â Â  â””â”€â”€ readme.md</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;"> â””â”€â”€ test-deploy</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;">     â”œâ”€â”€ index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">â”‚Â Â </span><span style="color:#C3E88D;">     â””â”€â”€ package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#C3E88D;"> .npmrc</span></span>
<span class="line"><span style="color:#FFCB6B;">â”œâ”€â”€</span><span style="color:#C3E88D;"> package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">â””â”€â”€</span><span style="color:#C3E88D;"> package-lock.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">3</span><span style="color:#C3E88D;"> directories, </span><span style="color:#F78C6C;">9</span><span style="color:#C3E88D;"> files</span></span>
<span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops use-npm-package node index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="æ‰“æ ‡ç­¾" tabindex="-1">æ‰“æ ‡ç­¾ <a class="header-anchor" href="#æ‰“æ ‡ç­¾" aria-label="Permalink to &quot;æ‰“æ ‡ç­¾&quot;">â€‹</a></h2><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> version </span><span style="color:#F78C6C;">1.0</span><span style="color:#C3E88D;">.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æ²¡æœ‰æŒ‡å®šæ ‡ç­¾ï¼Œé»˜è®¤ä¸ºlatest</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> publish --tag beta</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># æŸ¥çœ‹åŒ…ä¿¡æ¯</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> info packageName</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># ç¤ºä¾‹</span></span>
<span class="line"><span style="color:#FFCB6B;">âœ</span><span style="color:#C3E88D;"> devops test-deploy npm info test-deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">test</span><span style="color:#BABED8;">-deploy@1.0.3 </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;"> ISC</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;"> deps:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;"> |</span><span style="color:#FFCB6B;"> versions:</span><span style="color:#F78C6C;"> 6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">dist</span></span>
<span class="line"><span style="color:#FFCB6B;">.tarball:</span><span style="color:#C3E88D;"> http://192.168.10.10:8081/repository/npm-hosted/test-deploy/-/test-deploy-1.0.3.tgz</span></span>
<span class="line"><span style="color:#FFCB6B;">.shasum:</span><span style="color:#C3E88D;"> e2dde05711a25e6c9df33567ae205f603eeeaead</span></span>
<span class="line"><span style="color:#FFCB6B;">.integrity:</span><span style="color:#C3E88D;"> sha512-3pNZUUkDsupK7F0gzGWQXh4rFpZVvfHs+6brPKmA9oxnSyYbmb0L9NDH5+BW2iBRGYgS91UXwOQWiJJHgfo9cg==</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">dependencies:</span></span>
<span class="line"><span style="color:#FFCB6B;">day:</span><span style="color:#F78C6C;"> 0.0</span><span style="color:#C3E88D;">.2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">dist-tags:</span></span>
<span class="line"><span style="color:#FFCB6B;">beta:</span><span style="color:#F78C6C;"> 1.0</span><span style="color:#C3E88D;">.3    latest: </span><span style="color:#F78C6C;">1.0</span><span style="color:#C3E88D;">.3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">published</span><span style="color:#F78C6C;"> 5</span><span style="color:#C3E88D;"> minutes ago</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>ä¸æ–­æ›´æ–°ä¸­...</p>`,100);function i(y,m,u,d,b,F){const a=n("Reward"),p=n("Gitalk");return c(),e("div",null,[t,s(a),s(p)])}const h=l(r,[["render",i]]);export{C as __pageData,h as default};
