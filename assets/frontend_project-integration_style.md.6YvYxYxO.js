import{_ as e,c as p,J as s,V as o,o as t,G as n}from"./chunks/framework.SV1ROkXV.js";const h=JSON.parse('{"title":"项目集成之风格指南","description":"代码风格统一对于团队的协作有很大的帮助，使用editorconfig、prettier、stylelint进行代码风格统一提高团队协作效率","frontmatter":{"title":"项目集成之风格指南","description":"代码风格统一对于团队的协作有很大的帮助，使用editorconfig、prettier、stylelint进行代码风格统一提高团队协作效率","keywords":"editorconfig使用,prettier配置,stylelint配置,代码风格,风格指南,样式规则","logo":"https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-project-integration.png"},"headers":[],"relativePath":"frontend/project-integration/style.md","filePath":"frontend/project-integration/style.md","lastUpdated":1709440279000}'),r={name:"frontend/project-integration/style.md"},c=o(`<h1 id="项目集成之风格指南" tabindex="-1">项目集成之风格指南 <a class="header-anchor" href="#项目集成之风格指南" aria-label="Permalink to &quot;项目集成之风格指南&quot;">​</a></h1><p>上一篇的语法规范中我们使用eslint和typescript来降低代码的错误几率，偏向程序的运行时错误，除此之外良好的代码风格会看起来整体划一，如同同一个人所写，对团队之间的协作也更有益。eslint其实也可以对风格进行限制，但我们更倾向于检查语法错误，对于风格问题可以使用其他专业工具</p><blockquote><p>风格问题并不是属于错误❌，只是更好的提高团队协作效率而已，可有可无</p></blockquote><h2 id="editorconfig" tabindex="-1">Editorconfig <a class="header-anchor" href="#editorconfig" aria-label="Permalink to &quot;Editorconfig&quot;">​</a></h2><p><a href="https://editorconfig.org/" target="_blank" rel="noreferrer">EditorConfig</a> 是一个用于维护和定义跨不同编辑器和IDE的代码风格和格式的文件。它可以帮助团队成员在不同的编辑环境中保持一致的代码风格，减少不必要的代码格式差异和冲突</p><p>通常用来设置基本的规范如缩进形式（tab、space）、缩进大小、换行风格（lf、cr、crlf、unset）、行尾插入空格等，这样可以针对不同的编辑器和操作系统进行风格统一</p><p>首先在vscode中安装<code>editorconfig</code>插件：</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/iShot_2023-06-28_08.01.22.png" alt=""></p><p>项目中根路径下新建<code>.editorconfig</code>文件，并将以下配置写入：</p><div class="language-toml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 根文件</span></span>
<span class="line"><span style="color:#BABED8;">root </span><span style="color:#89DDFF;">=</span><span style="color:#FF9CAC;"> true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">*</span><span style="color:#89DDFF;">]</span><span style="color:#676E95;font-style:italic;">                              # 针对所有文件</span></span>
<span class="line"><span style="color:#BABED8;">charset </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> utf-8</span></span>
<span class="line"><span style="color:#BABED8;">indent_style </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> space             </span><span style="color:#676E95;font-style:italic;"># 使用空格缩进</span></span>
<span class="line"><span style="color:#BABED8;">indent_size </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;"> 2</span><span style="color:#676E95;font-style:italic;">                  # 缩进大小</span></span>
<span class="line"><span style="color:#BABED8;">trim_trailing_whitespace </span><span style="color:#89DDFF;">=</span><span style="color:#FF9CAC;"> true</span><span style="color:#676E95;font-style:italic;">  # 去掉尾部空格</span></span>
<span class="line"><span style="color:#BABED8;">insert_final_newline </span><span style="color:#89DDFF;">=</span><span style="color:#FF9CAC;"> true</span><span style="color:#676E95;font-style:italic;">      # 末尾插入新行</span></span>
<span class="line"><span style="color:#BABED8;">end_of_line </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> lf                 </span><span style="color:#676E95;font-style:italic;"># 换行符使用 lf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">*</span><span style="color:#BABED8;">.</span><span style="color:#FFCB6B;">md</span><span style="color:#89DDFF;">]</span><span style="color:#676E95;font-style:italic;">                           # 针对markdown文件</span></span>
<span class="line"><span style="color:#BABED8;">trim_trailing_whitespace </span><span style="color:#89DDFF;">=</span><span style="color:#FF9CAC;"> false</span></span>
<span class="line"><span style="color:#BABED8;">insert_final_newline </span><span style="color:#89DDFF;">=</span><span style="color:#FF9CAC;"> false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面会对所有文件进行风格设置，然后针对markdown文件设置两个不一样的属性值，这样编辑器就会对不同的文件进行内容编写进行风格统一</p><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/iShot_2023-06-28_07.49.59.png" alt=""></p><div class="img-title">editorconfig配置提示</div><h2 id="prettier" tabindex="-1">Prettier <a class="header-anchor" href="#prettier" aria-label="Permalink to &quot;Prettier&quot;">​</a></h2><p>EditorConfig更注重于代码的基本格式，而对于更细致的代码样式调整则有限。而 <a href="https://prettier.io/" target="_blank" rel="noreferrer">Prettier</a> 则是一个功能更强大的代码格式化工具，它可以自动处理代码的各种样式细节，包括缩进、空格、换行、引号、括号等；能够根据预定义的规则和配置，对代码进行自动格式化，使代码保持一致的风格。通常建议在项目中同时使用EditorConfig和Prettier，EditorConfig定义基本的代码风格规范，Prettier来自动格式化代码</p><h3 id="配置插件" tabindex="-1">配置插件 <a class="header-anchor" href="#配置插件" aria-label="Permalink to &quot;配置插件&quot;">​</a></h3><ol><li>首先在vscode中搜索 &#39;prettier - code formatter&#39; 点击下载安装</li></ol><p><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/iShot_2023-06-28_08.07.14.png" alt=""></p><ol start="2"><li>添加prettier自动格式化配置，在vscode设置中写入以下配置：</li></ol><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">[javascript]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.defaultFormatter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">esbenp.prettier-vscode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.formatOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">[typescript]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.defaultFormatter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">esbenp.prettier-vscode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.formatOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">[json]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.defaultFormatter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">esbenp.prettier-vscode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.formatOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">[scss]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.defaultFormatter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">esbenp.prettier-vscode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.formatOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // 其他相关配置...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>上面针对js、ts、json、scss在保存时根据prettier规则进行格式化，你也可以继续添加你想要格式化的文件；这样编辑器的插件就配置好了</p><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><p>prettier根据项目中的配置文件进行格式化，使用配置文件可以使配置和共享更加容易。prettier支持<a href="https://prettier.io/docs/en/configuration.html" target="_blank" rel="noreferrer">多种格式</a>的配置文件，这里选择在项目根目录中新建文件<code>prettier.config.js</code>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  printWidth</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 120</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">       // 每行最大长度</span></span>
<span class="line"><span style="color:#F07178;">  semi</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> true</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">            // 需要分号</span></span>
<span class="line"><span style="color:#F07178;">  singleQuote</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> false</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">    // 不适用单引号</span></span>
<span class="line"><span style="color:#F07178;">  endOfLine</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">lf</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">       // 换行符 lf</span></span>
<span class="line"><span style="color:#F07178;">  trailingComma</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">es5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">  // 在多行对象和数组字面量中使用尾随逗号</span></span>
<span class="line"><span style="color:#F07178;">  requirePragma</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> false</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">  // 是否仅对文件开头有格式化注释的生效，默认为false，会对所有文件进行格式化</span></span>
<span class="line"><span style="color:#F07178;">  insertPragma</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> false</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">   // 是否对已经格式化的文件开头插入注释，默认false</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>以上简单的配置了prettier常见的几个属性，你还可以添加其他<a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noreferrer">更多配置</a>，这样就可以对项目中的代码进行格式化了</p><p><strong>示例</strong></p><p>编写ts文件并将以下代码写入，保存文件即可对代码进行格式化：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-diff vp-code"><code><span class="line diff remove"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> name </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">Jack</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line diff add"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> name </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Jack</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">// 单引号变双引号、添加分号</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> user </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">	name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Jack</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff remove"><span style="color:#F07178;">	age</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 20</span></span>
<span class="line diff add"><span style="color:#BABED8;">	age: </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">// 添加 行尾逗号</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="集成eslint" tabindex="-1">集成eslint <a class="header-anchor" href="#集成eslint" aria-label="Permalink to &quot;集成eslint&quot;">​</a></h3><p>上面配置好prettier后如果对于不规范的格式并不会触发错误提示，顾需结合eslint进行错误提示。prettier也提供了相关的eslint插件来结合eslint使用</p><ol><li>安装相关依赖：</li></ol><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#C3E88D;"> install prettier eslint-plugin-prettier eslint-config-prettier -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>eslint中添加prettier配置</li></ol><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-diff vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  extends</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line diff add"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#C3E88D;">plugin:prettier/recommended</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line diff add"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#C3E88D;">prettier</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  rules</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line diff add"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#F07178;">prettier/prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="3"><li>调整IDE关于prettier的配置</li></ol><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-diff vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">editor.codeActionsOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line diff add"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">source.fixAll.eslint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span><span style="color:#676E95;font-style:italic;">// 使用eslint修复所有错误</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line diff remove"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">[typescript]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line diff remove"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.defaultFormatter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">esbenp.prettier-vscode</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line diff remove"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">editor.formatOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line diff remove"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>到这里就已经完成了prettier和eslint的整合，现在可以在项目中尝试写入错误格式eslint便会进行识别报错，对于可修复的保存后也会自动修复</p><h3 id="prettierignore" tabindex="-1">prettierignore <a class="header-anchor" href="#prettierignore" aria-label="Permalink to &quot;prettierignore&quot;">​</a></h3><p>prettier默认会对项目中的所有文件进行格式化，如果文件太多便会造成编辑器卡顿现象，可以配置prettier忽略的文件，减少格式化返回</p><p>新建<code>.prettierignore</code>文件，写入不想要文件或路径，支持 <a href="https://en.wikipedia.org/wiki/Glob_(programming)" target="_blank" rel="noreferrer">glob</a> 规则匹配，可以当做gitignore使用：</p><div class="language-txt line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span>dist</span></span>
<span class="line"><span>node_modules</span></span>
<span class="line"><span>coverage</span></span>
<span class="line"><span>.vscode</span></span>
<span class="line"><span>*/**/*.test.js</span></span>
<span class="line"><span>*/**/*.test.ts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="stylelint" tabindex="-1">StyleLint <a class="header-anchor" href="#stylelint" aria-label="Permalink to &quot;StyleLint&quot;">​</a></h2><p><a href="https://stylelint.io/" target="_blank" rel="noreferrer">stylelint</a> 是一个用于检查和强化 CSS 代码风格和一致性的工具。它可以帮助开发人员在编写 CSS 代码时遵循一致的规范和最佳实践，从而提高代码质量、可读性和可维护性</p><p>具体来说，stylelint 可以执行以下任务：</p><ul><li>静态分析：检查 CSS 代码的语法和结构，捕获常见的错误和警告</li><li>格式化：根据预定义的风格规则自动格式化 CSS 代码，使其保持一致的缩进、换行和空格</li><li>规则校验：应用各种规则和约定，例如选择器命名、属性顺序、颜色格式、单位使用等，确保代码符合统一的风格和标准</li></ul><p>stylelint类似于eslint其核心也包括插件、扩展、规则配置等，所以如果你对eslint已经熟练了，那么stylelint也没什么难度，接下来就讲讲基本使用</p><h3 id="插件安装、配置" tabindex="-1">插件安装、配置 <a class="header-anchor" href="#插件安装、配置" aria-label="Permalink to &quot;插件安装、配置&quot;">​</a></h3><ol><li><p>vscode中搜索 &#39;stylelint&#39; 安装插件 <img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/iShot_2023-06-28_11.56.55.png" alt=""></p></li><li><p>配置stylelint将以下配置写入vscode的配置文件中，最后点击保存重启IDE</p></li></ol><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-diff vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">editor.codeActionsOnSave</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line diff add"><span style="color:#89DDFF;">    &quot;</span><span style="color:#FFCB6B;">source.fixAll.stylelint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> true,</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line diff add"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">stylelint.validate</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">postcss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">scss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">sass</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span><span style="color:#676E95;font-style:italic;">// 配置检查的文件</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="项目安装" tabindex="-1">项目安装 <a class="header-anchor" href="#项目安装" aria-label="Permalink to &quot;项目安装&quot;">​</a></h3><ol><li>安装stylelint</li></ol><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">➜</span><span style="color:#C3E88D;"> npn install stylelint -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>创建配置文件，stylelint同样支持 <a href="https://stylelint.io/user-guide/configure" target="_blank" rel="noreferrer">多种格式</a> 的配置，这里创建<code>.stylelintrc.js</code>：</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  extends</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="plugins" tabindex="-1">plugins <a class="header-anchor" href="#plugins" aria-label="Permalink to &quot;plugins&quot;">​</a></h3><p><a href="https://stylelint.io/user-guide/configure#plugins" target="_blank" rel="noreferrer">plugin</a>让stylelint拥有处理其他自定义规则的能力，如：<a href="https://github.com/prettier/stylelint-prettier" target="_blank" rel="noreferrer">stylelint-prettier</a> 让其拥有prettier的规则</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylelint-prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  rules</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#F07178;">prettier/prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样对于prettier设置的格式化规则对stylelint也会生效</p><h3 id="extends" tabindex="-1">extends <a class="header-anchor" href="#extends" aria-label="Permalink to &quot;extends&quot;">​</a></h3><p>extends用来继承其他的规则，可以使用官方或者第三方直接配置好的规则，这样降低配置复杂性：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // standard 规则</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#F07178;">stylelint-config-standard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // 属性顺序规则</span></span>
<span class="line"><span style="color:#89DDFF;">  &#39;</span><span style="color:#F07178;">stylelint-config-recess-order</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // vue规则</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#F07178;">stylelint-config-recommended-vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#F07178;">stylelint-config-standard-less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // Prettier规则</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#F07178;">stylelint-prettier/recommended</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>使用这些规则同样需要先安装：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">➜</span><span style="color:#C3E88D;"> npm install stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-vue stylelint-config-standard-less -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="rules、overrides" tabindex="-1">rules、overrides <a class="header-anchor" href="#rules、overrides" aria-label="Permalink to &quot;rules、overrides&quot;">​</a></h3><p>rules、overrides用来配置具体的样式规则，其和eslint配置用法一致：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  rules</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#F07178;">prettier/prettier</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;"> true</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // prettier插件设置</span></span>
<span class="line"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#F07178;">function-url-quotes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">always</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;"> // 内置的规则</span></span>
<span class="line"><span style="color:#89DDFF;">  },</span></span>
<span class="line"><span style="color:#F07178;">  overrides</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    {</span></span>
<span class="line"><span style="color:#89DDFF;">      &quot;</span><span style="color:#F07178;">files</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">**/*.less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      &quot;</span><span style="color:#F07178;">customSyntax</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">postcss-less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#676E95;font-style:italic;"> // less文件使用postcss-less解析语法</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>更多规则点击查看<a href="https://stylelint.io/user-guide/rules" target="_blank" rel="noreferrer">官方配置</a></p><h3 id="stylelintignore" tabindex="-1">stylelintignore <a class="header-anchor" href="#stylelintignore" aria-label="Permalink to &quot;stylelintignore&quot;">​</a></h3><p>通过设置stylelintignore忽略不需要进行样式检查的文件，创建<code>.stylelintignore</code>文件，写入不需要格式化的文件或路径，同样支持glob语法：</p><div class="language-txt line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span>.DS_Store</span></span>
<span class="line"><span>node_modules</span></span>
<span class="line"><span>dist</span></span>
<span class="line"><span>build</span></span>
<span class="line"><span>*.ts</span></span>
<span class="line"><span>*.woff</span></span>
<span class="line"><span>*.mp3</span></span>
<span class="line"><span>*.mp4</span></span>
<span class="line"><span>*.jpg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="脚本" tabindex="-1">脚本 <a class="header-anchor" href="#脚本" aria-label="Permalink to &quot;脚本&quot;">​</a></h3><p>eslint除了使用编辑器自动修复和格式化外，还可以使用脚本进行格式化</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">➜</span><span style="color:#C3E88D;"> npx stylelint </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">**/*.{less,vue,tsx} --fix</span><span style="color:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或者在<code>package.json</code>中定制脚本：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  	&quot;</span><span style="color:#FFCB6B;">lint:style</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">stylelint &#39;src/**/*.{less,vue,tsx}&#39; --fix</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="css-bem命名约定" tabindex="-1">CSS BEM命名约定 <a class="header-anchor" href="#css-bem命名约定" aria-label="Permalink to &quot;CSS BEM命名约定&quot;">​</a></h2><p>BEM代表 <code>块（block）,元素（element）,修饰符（modifier）</code> 在选择器中，由以下三种符号来表示扩展的关系：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#C3E88D;">   中划线 ：仅作为连字符使用，表示某个块或者某个子元素的多单词之间的连接记号。</span></span>
<span class="line"><span style="color:#FFCB6B;">__</span><span style="color:#C3E88D;">  双下划线：双下划线用来连接块和块的子元素</span></span>
<span class="line"><span style="color:#FFCB6B;">_</span><span style="color:#C3E88D;">   单下划线：单下划线用来描述一个块或者块的子元素的一种状态</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>比如定义一个button：</p><div class="language-less line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">less</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">button</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">  border-radius</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 4px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">  width</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">  height</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 40px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // 描述button的不同状态</span></span>
<span class="line"><span style="color:#89DDFF;">  &amp;</span><span style="color:#C792EA;">_danger</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">  	background</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> red</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">  &amp;</span><span style="color:#C792EA;">_success</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#FFCB6B;">  	background</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> green</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // 描述子元素</span></span>
<span class="line"><span style="color:#89DDFF;">  &amp;</span><span style="color:#C792EA;">__icon</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;">  	...</span></span>
<span class="line"><span style="color:#BABED8;">  }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>更多有关BEM的规则可以参考以下文档：</p><ul><li><a href="https://en.bem.info/" target="_blank" rel="noreferrer">BEM</a></li><li><a href="https://github.com/Tencent/tmt-workflow/wiki/%E2%92%9B-%5B%E8%A7%84%E8%8C%83%5D--CSS-BEM-%E4%B9%A6%E5%86%99%E8%A7%84%E8%8C%83" target="_blank" rel="noreferrer">腾讯BEM文档</a></li></ul>`,82);function i(F,D,y,u,d,b){const a=n("Reward"),l=n("Gitalk");return t(),p("div",null,[c,s(a),s(l)])}const g=e(r,[["render",i]]);export{h as __pageData,g as default};
