<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS类型隐式转换与装箱拆箱 | hengshuai's blog</title>
    <meta name="description" content="搞明白JS动态弱类型语言的隐式转换规则及装箱拆箱规则来提高你的程序稳定性">
    <meta name="generator" content="VitePress v1.0.0-rc.40">
    <link rel="preload stylesheet" href="/assets/style.NwX665RZ.css" as="style">
    
    <script type="module" src="/assets/app.0fd12bH9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.SV1ROkXV.js">
    <link rel="modulepreload" href="/assets/chunks/theme.l3RjJB8k.js">
    <link rel="modulepreload" href="/assets/article_2019_js-type-transfer.md.6bgN44L7.lean.js">
    <meta name="renderer" content="webkit">
    <meta name="author" content="ihengshuai@foxmail.com">
    <meta rel="profile" href="http://gmpg.org/xfn/11">
    <meta name="referrer" content="same-origin">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="theme-color" content="#646cff">
    <meta name="google-site-verification" content="T4xYOJVbUxeU5aZRUROdmEf_NWCjnRDwfXnzKYUVcFM">
    <meta name="baidu-site-verification" content="code-IpD4H7zKv4">
    <link rel="apple-touch-icon" href="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/192.png">
    <meta name="apple-mobile-web-app-title" content="hengshuai&#39;s blog">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#747bff">
    <meta rel="apple-touch-startup-image" href="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/192.png">
    <link rel="manifest" href="/manifest.json">
    <script id="ENV_VARIABLES">window.__ENV_VARIABLES__={ENV_PROD:!0};</script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V5736Z4DWT"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-V5736Z4DWT");</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f6eda4089bba0c6f46ad6e00658a80f3";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="keywords" content="类型隐式转换,装箱拆箱,运算转换,类型转换规则,type conversion,toPrimitive,弱类型,OrdinaryToPrimitive">
    <meta property="og:type" content="website">
    <meta property="og:title" content="JS类型隐式转换与装箱拆箱 | hengshuai&#39;s blog">
    <meta property="og:url" content="https://blog.usword.cn/article/2019/js-type-transfer.html">
    <meta property="og:site_name" content="hengshuai&#39;s blog">
    <meta property="og:description" content="搞明白JS动态弱类型语言的隐式转换规则及装箱拆箱规则来提高你的程序稳定性">
    <meta property="og:image" content="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-js.png">
    <meta name="twitter:url" value="https://blog.usword.cn/article/2019/js-type-transfer.html">
    <meta name="twitter:title" value="JS类型隐式转换与装箱拆箱 | hengshuai&#39;s blog">
    <meta name="twitter:domain" value="https://blog.usword.cn">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" value="搞明白JS动态弱类型语言的隐式转换规则及装箱拆箱规则来提高你的程序稳定性">
    <meta name="twitter:image" content="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-js.png">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e69ff593><!--[--><!--]--><!--[--><span tabindex="-1" data-v-056fc64b></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-056fc64b> Skip to content </a><!--]--><!----><header class="VPNav" data-v-e69ff593 data-v-50ee880a><div class="VPNavBar has-sidebar" data-v-50ee880a data-v-575c0058><div class="wrapper" data-v-575c0058><div class="container" data-v-575c0058><div class="title" data-v-575c0058><div class="VPNavBarTitle has-sidebar" data-v-575c0058 data-v-5a8562d3><a class="title" href="/" data-v-5a8562d3><!--[--><!--]--><!----><!--[-->Hengshuai&#39;s blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-575c0058><div class="content-body" data-v-575c0058><!--[--><!--]--><div class="VPNavBarSearch search" data-v-575c0058><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-575c0058 data-v-3e017cdf><span id="main-nav-aria-label" class="visually-hidden" data-v-3e017cdf>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/frontend/base.html" tabindex="0" data-v-3e017cdf data-v-2b0d6775><!--[--><span data-v-2b0d6775>Frontend</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/fullstack/base.html" tabindex="0" data-v-3e017cdf data-v-2b0d6775><!--[--><span data-v-2b0d6775>Fullstack</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/article/base.html" tabindex="0" data-v-3e017cdf data-v-2b0d6775><!--[--><span data-v-2b0d6775>Article</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://case.usword.cn" target="_blank" rel="noreferrer" tabindex="0" data-v-3e017cdf data-v-2b0d6775><!--[--><span data-v-2b0d6775>Case</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/me.html" tabindex="0" data-v-3e017cdf data-v-2b0d6775><!--[--><span data-v-2b0d6775>Me</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-575c0058 data-v-3bd0ddce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to light theme" aria-checked="true" data-v-3bd0ddce data-v-62e667eb data-v-0438efbe><span class="check" data-v-0438efbe><span class="icon" data-v-0438efbe><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-62e667eb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-62e667eb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-575c0058 data-v-47b9b291 data-v-f534a663><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ihengshuai" aria-label="github" target="_blank" rel="noopener" data-v-f534a663 data-v-70b9b240><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-575c0058 data-v-edb1db61 data-v-41b0fac7><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-41b0fac7><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-41b0fac7><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-41b0fac7><div class="VPMenu" data-v-41b0fac7 data-v-32c6b1d0><!----><!--[--><!--[--><!----><div class="group" data-v-edb1db61><div class="item appearance" data-v-edb1db61><p class="label" data-v-edb1db61>Appearance</p><div class="appearance-action" data-v-edb1db61><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to light theme" aria-checked="true" data-v-edb1db61 data-v-62e667eb data-v-0438efbe><span class="check" data-v-0438efbe><span class="icon" data-v-0438efbe><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-62e667eb><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-62e667eb><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-edb1db61><div class="item social-links" data-v-edb1db61><div class="VPSocialLinks social-links-list" data-v-edb1db61 data-v-f534a663><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ihengshuai" aria-label="github" target="_blank" rel="noopener" data-v-f534a663 data-v-70b9b240><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-575c0058 data-v-279e6295><span class="container" data-v-279e6295><span class="top" data-v-279e6295></span><span class="middle" data-v-279e6295></span><span class="bottom" data-v-279e6295></span></span></button></div></div></div></div><div class="divider" data-v-575c0058><div class="divider-line" data-v-575c0058></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-e69ff593 data-v-2ebb1e0d><div class="container" data-v-2ebb1e0d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2ebb1e0d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-2ebb1e0d><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-2ebb1e0d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2ebb1e0d data-v-ba90ba94><button data-v-ba90ba94>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-e69ff593 data-v-983e8791><div class="curtain" data-v-983e8791></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-983e8791><span class="visually-hidden" id="sidebar-aria-label" data-v-983e8791> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-983e8791><section class="VPSidebarItem level-0" data-v-983e8791 data-v-3445ab86><div class="item" role="button" tabindex="0" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><h2 class="text" data-v-3445ab86>2022</h2><!----></div><div class="items" data-v-3445ab86><!--[--><section class="VPSidebarItem level-1" data-v-3445ab86 data-v-3445ab86><!----><div class="items" data-v-3445ab86><!--[--><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2022/emoji-markup.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>emoji markup</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-983e8791><section class="VPSidebarItem level-0" data-v-983e8791 data-v-3445ab86><div class="item" role="button" tabindex="0" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><h2 class="text" data-v-3445ab86>2021</h2><!----></div><div class="items" data-v-3445ab86><!--[--><section class="VPSidebarItem level-1" data-v-3445ab86 data-v-3445ab86><!----><div class="items" data-v-3445ab86><!--[--><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/pwa-app.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>PWA渐进式应用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/performance-tools.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>前端性能测试工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/ts-decorator.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>Typescript装饰器指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/vue-img-lazyload.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>手写vue图片懒加载插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/vue-core-process.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>谈谈vue内部运行机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/js-pattern.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>JS中的设计模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2021/flex-layout.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>flex布局</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-983e8791><section class="VPSidebarItem level-0" data-v-983e8791 data-v-3445ab86><div class="item" role="button" tabindex="0" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><h2 class="text" data-v-3445ab86>2020</h2><!----></div><div class="items" data-v-3445ab86><!--[--><section class="VPSidebarItem level-1" data-v-3445ab86 data-v-3445ab86><!----><div class="items" data-v-3445ab86><!--[--><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/domparser-xml.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>关于DOMParser、XMLSerializer、createTreeWalker使用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/vscode-shortcut.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>vscode快捷键</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/optimize-web-server.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>优化改善网页的加载及性能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/regexp-guide.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>深入浅出RegExp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/webpack-guide.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>从零配置webpack工程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2020/web-cache.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>web缓存策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-983e8791><section class="VPSidebarItem level-0 has-active" data-v-983e8791 data-v-3445ab86><div class="item" role="button" tabindex="0" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><h2 class="text" data-v-3445ab86>2019</h2><!----></div><div class="items" data-v-3445ab86><!--[--><section class="VPSidebarItem level-1 has-active" data-v-3445ab86 data-v-3445ab86><!----><div class="items" data-v-3445ab86><!--[--><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/nvm-guide.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>nvm使用技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/mysql-guide.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>MySQL从入门到放弃</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/ktv-system.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>7天撸完ktv点歌系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/css-center.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>css的10中居中方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/promise.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>Promise使用与原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/js-type-transfer.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>JS隐式转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/what-bfc.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>什么是BFC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/js-copy.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>JS深浅拷贝</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-3445ab86 data-v-3445ab86><div class="item" data-v-3445ab86><div class="indicator" data-v-3445ab86></div><a class="VPLink link link" href="/article/2019/bind-call-apply.html" data-v-3445ab86><!--[--><p class="text" data-v-3445ab86>bind、call、apply使用技巧</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-e69ff593 data-v-5a285343><div class="VPDoc has-sidebar has-aside" data-v-5a285343 data-v-fb80de84><!--[--><!--]--><div class="container" data-v-fb80de84><div class="aside" data-v-fb80de84><div class="aside-curtain" data-v-fb80de84></div><div class="aside-container" data-v-fb80de84><div class="aside-content" data-v-fb80de84><div class="VPDocAside" data-v-fb80de84 data-v-bb0b59e9><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-bb0b59e9 data-v-ea307b6d><div class="content" data-v-ea307b6d><div class="outline-marker" data-v-ea307b6d></div><div class="outline-title" role="heading" aria-level="2" data-v-ea307b6d>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-ea307b6d><span class="visually-hidden" id="doc-outline-aria-label" data-v-ea307b6d> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-ea307b6d data-v-20500810><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-bb0b59e9></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-fb80de84><div class="content-container" data-v-fb80de84><!--[--><!--]--><main class="main" data-v-fb80de84><div style="position:relative;" class="vp-doc _article_2019_js-type-transfer external-link-icon-enabled" data-v-fb80de84><div><h1 id="js类型隐式转换与装箱拆箱" tabindex="-1">JS类型隐式转换与装箱拆箱 <a class="header-anchor" href="#js类型隐式转换与装箱拆箱" aria-label="Permalink to &quot;JS类型隐式转换与装箱拆箱&quot;">​</a></h1><p>如果你写过大多数强类型语言如<code>Java</code>对数据的类型一定不会陌生，如定义两个变量：<code>int num = 1</code>和<code>boolean bool = false</code>，比较两个变量是否相等时结果很明显时<code>false</code>(不同类型直接会报错)，类型不同的变量永远不会相等。由于JS被定位成<code>动态弱类型语言</code>，其往往会颠覆你的认知。</p><p>JS引擎往往会最大限度的降低程序的错误，假如你会写<code>num = 1;num.name=xxx</code>这种很明显的错误，但当你运行时却不会报错，这里就涉及到了<code>装箱和拆箱</code>；还有<code>1 == true; 1 == [1]</code>你会发现竟然结果都为<code>true</code>，如果你不了解JS内部的装箱、拆箱和类型的隐式转换规则，这些可能都会让你产生困惑，如果你有这些疑惑，接着看下面的内容吧。</p><blockquote><p>注：如遇到有一些链接无法访问可能需要科学上网</p></blockquote><h2 id="装箱与拆箱" tabindex="-1">装箱与拆箱 <a class="header-anchor" href="#装箱与拆箱" aria-label="Permalink to &quot;装箱与拆箱&quot;">​</a></h2><p>什么是装箱和拆箱？JS中有<code>string</code>、<code>number</code>、<code>boolean</code>基础类型，它们都有对应的包装类型(引用类型)<code>String</code>、<code>Number</code>、<code>Boolean</code>，<u>装箱就是将基础类型转换为对应的包装类型，而拆箱则将包装类型转换为对应的基础类型。</u></p><p><u>如果你对<strong>拆箱</strong>操作不了解，将会影响你对隐式转换的理解。</u></p><h3 id="装箱" tabindex="-1">装箱 <a class="header-anchor" href="#装箱" aria-label="Permalink to &quot;装箱&quot;">​</a></h3><p>装箱可以通过显式new进行装箱，JS引擎也可以隐式装箱，下面就来了解下两种不同的装箱操作。</p><ol><li>显式装箱</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;">// string</span></span>
<span class="line"><span style="color:#BABED8;">str </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Object</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">str </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> String</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// boolean</span></span>
<span class="line"><span style="color:#BABED8;">bool </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Object</span><span style="color:#BABED8;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">bool </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Boolean</span><span style="color:#BABED8;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// number</span></span>
<span class="line"><span style="color:#BABED8;">num </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Object</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">num </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Number</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>隐式装箱</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">name </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 例1</span></span>
<span class="line"><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // JS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 例2</span></span>
<span class="line"><span style="color:#BABED8;">name</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">age </span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 自动装箱 =&gt; name = new String(&#39;js&#39;) =&gt; name.age = 1 =&gt; 下一行前销毁当前对象</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(name</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">age)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面隐式装箱<code>name</code>是个基础类型，基础类型不会有属性的，但却拥有<code>toUpperCase</code>方法，其本质还是<code>String</code>对象的方法，当执行此方法时会隐式的将name转换为对象<code>name =&gt; new String(name)</code>，然后就会拥有对应的方法；而给其设置<code>age</code>属性后重新获取却为<code>undefined</code>，这里JS引擎就处理了错误的赋值操作，也会将<code>name</code>转换为<code>new String(name)</code>然后在执行下一行前又会销毁此对象，可以理解为当前对象就是来为赋值操作服务的。</p><h3 id="拆箱" tabindex="-1">拆箱 <a class="header-anchor" href="#拆箱" aria-label="Permalink to &quot;拆箱&quot;">​</a></h3><p>拆箱则是将包装类型转化为对应的基础类型，通过执行<code>valueOf</code>方法可以得到它的原始值：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">num </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Number</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">123</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // Number {123}</span></span>
<span class="line"><span style="color:#89DDFF;">typeof</span><span style="color:#BABED8;"> num</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // object</span></span>
<span class="line"><span style="color:#BABED8;">num</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 123</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">bool </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Object</span><span style="color:#BABED8;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // Boolean {true}</span></span>
<span class="line"><span style="color:#89DDFF;">typeof</span><span style="color:#BABED8;"> booll</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // object</span></span>
<span class="line"><span style="color:#BABED8;">bool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>除了执行<code>valueOf</code>，<code>toString</code>方法也可以将包装类型转换为基础类型字符串形式，其实除了以上几个包装类型拆箱，其他的引用类型也会根据一定的规则进行转换，下面就来一起看看。</p><h2 id="toprimitive、-ordinarytoprimitive" tabindex="-1">toPrimitive、 OrdinaryToPrimitive <a class="header-anchor" href="#toprimitive、-ordinarytoprimitive" aria-label="Permalink to &quot;toPrimitive、 OrdinaryToPrimitive&quot;">​</a></h2><p>对于引用类型在特殊条件下都会转换为基础类型，其拆箱都会遵循<a href="https://tc39.es/ecma262/#sec-toprimitive" target="_blank" rel="noreferrer">【toPrimitive规则】</a></p><p>JS引擎內部toPrimitive的签名如下：input是待转换的对象，perferedType为转换的类型，有<code>string/number</code>两种</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#82AAFF;">toPrimitive</span><span style="color:#BABED8;">(input</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> perferedType)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1. If input is an Object, then</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   a. Let exoticToPrim be ? GetMethod(input, @@toPrimitive).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   b. If exoticToPrim is not undefined, then</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     i. If preferredType is not present, let hint be &quot;default&quot;.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     ii. Else if preferredType is string, let hint be &quot;string&quot;.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     iii. Else,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//       1. Assert: preferredType is number.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//       2. Let hint be &quot;number&quot;.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     iv. Let result be ? Call(exoticToPrim, input, « hint »).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     v. If result is not an Object, return result.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     vi. Throw a TypeError exception.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   c. If preferredType is not present, let preferredType be number.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   d. Return ? OrdinaryToPrimitive(input, preferredType).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2. Return input.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>这里的<code>toPrimitive</code>属性其实就是<code>Symbol.toPrimitive</code>属性，其内部转换可以概括步骤如下（<strong>重点</strong>）：</p><ol><li><u><strong>当进行类型转换时会首先判断有没有<code>Symbol.toPromitive</code>属性：</strong></u><ul><li>当<code>perferedType</code>为<code>string</code>时，返回<code>string</code>条件结果。</li><li>当<code>perferedType</code>为<code>number</code>时返回<code>number</code>条件结果。</li><li>当<code>perferedType</code>为空时，返回<code>default</code>条件结果。</li><li>如果以上返回的结果不是基本类型时抛异常<code>Cannot convert object to primitive value</code></li></ul></li><li><u><strong>如果没有<code>Symbol.toPromitive</code>属性，会执行内部的<a href="https://tc39.es/ecma262/#sec-ordinarytoprimitive" target="_blank" rel="noreferrer">OrdinaryToPrimitive</a>方法，此方法会根据优先级调用<code>toString</code>和<code>valueOf</code>方法，其调用顺序如下：</strong></u><ul><li>当指定转换类型为<code>string</code>时，会优先调用<code>toString</code>方法，若执行结果为基础类型则返回，否则执行<code>valueOf</code>方法，基本类型结果将会返回，否则将会抛异常。</li><li>当指定转换类型为<code>number</code>时，会优先调用<code>valueOf</code>方法，若执行结果为基础类型则返回，否则执行<code>toString</code>方法，基本类型结果将会返回，否则将会抛异常。</li><li>在不指定类型情况下，除了<code>Date</code>会优先执行<code>toString</code>方法，其余的都会优先执行<code>valueOf</code>方法，然后根据前两条规则执行。</li></ul></li></ol><p><code>OrdinaryToPrimitive</code>签名如下：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#82AAFF;">OrdinaryToPrimitive</span><span style="color:#BABED8;">(O</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> hint)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1. If hint is string, then</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   a. Let methodNames be « &quot;toString&quot;, &quot;valueOf&quot; ».</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2. Else,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   a. Let methodNames be « &quot;valueOf&quot;, &quot;toString&quot; ».</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 3. For each element name of methodNames, do</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   a. Let method be ? Get(O, name).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   b. If IsCallable(method) is true, then</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     i. Let result be ? Call(method, O).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     ii. If result is not an Object, return result.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 4. Throw a TypeError exception.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>OrdinaryToPrimitive</code>的执行也可以在源码(<a href="https://source.chromium.org/chromium/chromium/src/+/main:v8/src/objects/js-objects.cc;l=2107?q=OrdinaryToPrimitive&amp;ss=chromium%2Fchromium%2Fsrc&amp;start=11" target="_blank" rel="noreferrer">c代码</a>、<a href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/devtools-frontend/src/node_modules/es-abstract/2020/OrdinaryToPrimitive.js;l=16?q=OrdinaryToPrimitive&amp;sq=&amp;ss=chromium" target="_blank" rel="noreferrer">JS代码</a>)中找到，你可以在<a href="https://source.chromium.org/chromium" target="_blank" rel="noreferrer">source.chromium.org</a>中搜索对应的关键字<code>OrdinaryToPrimitive</code>，就可以找到。下面代码也证明了<code>OrdinaryToPrimitive</code>的执行的执行步骤</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#89DDFF;"> =</span><span style="color:#C792EA;"> function</span><span style="color:#82AAFF;"> OrdinaryToPrimitive</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">O</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> hint</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">  if</span><span style="color:#F07178;"> (</span><span style="color:#82AAFF;">Type</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">O</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">!==</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">Object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    throw</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> $TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Assertion failed: Type(O) is not Object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">  if</span><span style="color:#F07178;"> (</span><span style="color:#676E95;font-style:italic;">/* Type(hint) !== &#39;String&#39; || */</span><span style="color:#BABED8;"> hint</span><span style="color:#89DDFF;"> !==</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#BABED8;"> hint</span><span style="color:#89DDFF;"> !==</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    throw</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> $TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Assertion failed: `hint` must be &quot;string&quot; or &quot;number&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">  var</span><span style="color:#BABED8;"> methodNames</span><span style="color:#89DDFF;"> =</span><span style="color:#BABED8;"> hint</span><span style="color:#89DDFF;"> ===</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> ?</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">toString</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">valueOf</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">valueOf</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">toString</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">  for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">var</span><span style="color:#BABED8;"> i</span><span style="color:#89DDFF;"> =</span><span style="color:#F78C6C;"> 0</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> i</span><span style="color:#89DDFF;"> &lt;</span><span style="color:#BABED8;"> methodNames</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">length</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> i</span><span style="color:#89DDFF;"> +=</span><span style="color:#F78C6C;"> 1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">    var</span><span style="color:#BABED8;"> name</span><span style="color:#89DDFF;"> =</span><span style="color:#BABED8;"> methodNames</span><span style="color:#F07178;">[</span><span style="color:#BABED8;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">    var</span><span style="color:#BABED8;"> method</span><span style="color:#89DDFF;"> =</span><span style="color:#82AAFF;"> Get</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">O</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#82AAFF;">IsCallable</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">method</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">      var</span><span style="color:#BABED8;"> result</span><span style="color:#89DDFF;"> =</span><span style="color:#82AAFF;"> Call</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">method</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> O</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">      if</span><span style="color:#F07178;"> (</span><span style="color:#82AAFF;">Type</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">result</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">!==</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">Object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">        return</span><span style="color:#BABED8;"> result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">      }</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">  throw</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> $TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">No primitive value for </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#82AAFF;"> inspect</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">O</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>接下来通过下面的代码来证明以上总结的步骤，首先会执行<code>Symbol.toPrimitive</code>方法，没有则会执行<code>OrdinaryToPrimitive</code>的方法。</p><p><strong>Symbol.toPrimitive证明</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 根据toPrimitive签名定义方法</span></span>
<span class="line"><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">  [Symbol</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">toPrimitive]</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">perferedType</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">perferedType</span><span style="color:#89DDFF;"> ===</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">perferedType</span><span style="color:#89DDFF;"> ===</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    return</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">default</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1. perferedType为string</span></span>
<span class="line"><span style="color:#89DDFF;">`${</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;str&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2. perferedType为number</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 3. perferedType为 undefined</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> obj</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;default&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 若返回的结果不是基础类型则抛异常，这里修改一个number返回对象</span></span>
<span class="line"><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">  [Symbol</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">toPrimitive]</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">perferedType</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">perferedType</span><span style="color:#89DDFF;"> ===</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">perferedType</span><span style="color:#89DDFF;"> ===</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    return</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">default</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // Uncaught TypeError: Cannot convert object to primitive value</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>通过上面的代码再次证明了确实是以上的步骤，接下来看OrdinaryToPrimitive</p><p><strong>OrdinaryToPrimitive证明</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 1. hint为string会先执行toString方法</span></span>
<span class="line"><span style="color:#89DDFF;">`${</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;2&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">array</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">`${</span><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;array&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2. hint为number会先执行valueOf方法</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 1</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 3.当不指定 hint 类型时，除Date类型其它会优先执行`valueOf`，然后执行`toString`，Date正好相反</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;1&#39;</span></span>
<span class="line highlighted"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 2</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Date</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;Thu Dec 01 2021 12:56:23 GMT+0800 (中国标准时间)&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">date</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 修改Date的toString方法</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Date</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // date</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 4.若某一个方法返回的不是基础类型，继续执行下一个方法，否则抛异常</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 2 =&gt; 执行toSting</span></span>
<span class="line"><span style="color:#FFCB6B;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // 修改Date的toString方法</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Date</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;1609459200000&#39; =&gt; 执行 valueOf</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> toString</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> []</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // Uncaught TypeError: Cannot convert object to primitive value</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>以上就是OrdinaryToPrimitive的执行步骤，其实<code>valueOf</code>执行结果更趋向于自己原本的值(除Date外)，而<code>toString</code>一定会返回string类型，如：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#676E95;font-style:italic;">// valueOf</span></span>
<span class="line"><span style="color:#BABED8;">obj </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> {</span><span style="color:#F07178;"> name</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;"> };</span></span>
<span class="line"><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // { name: 1 }</span></span>
<span class="line"><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // f(){}</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // [1,2,3]</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#82AAFF;"> RegExp</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^</span><span style="color:#BABED8;">\d</span><span style="color:#C3E88D;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // /^d+/i</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// toString</span></span>
<span class="line"><span style="color:#BABED8;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;[object Object]&#39;</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;1,2,3&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#82AAFF;"> RegExp</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^</span><span style="color:#BABED8;">\d</span><span style="color:#C3E88D;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // &#39;/^d+/i&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>通过上面的内容你应该对装箱与拆箱有了更深的认识，从拆箱中应该也看到了类型转换的影子(上面代码中12,13行高亮部分)<code>&#39;&#39; + ({valueOf: () =&gt; 1, toString: () =&gt; 2}); // &#39;1&#39;</code>，返回的结果是个<u>字符串1而不是数字</u>，而<code>1 + ({valueOf: () =&gt; 1, toString: () =&gt; 2}); // 2</code>返回的却是数字2，两者只因相加位类型的不同结果也不同，这里就涉及到了类型的隐式转换，<code>number =&gt; string</code>的转换。</p><p>了解了对象转换为原始类型(拆箱)后，接下来就来看看类型隐式转换是如何运作的。</p><h2 id="类型隐式转换" tabindex="-1">类型隐式转换 <a class="header-anchor" href="#类型隐式转换" aria-label="Permalink to &quot;类型隐式转换&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">提示</p><p>如果你在类型隐式转换的阅读过程中产生的疑问过多，建议将装箱和拆箱的内容多读、多练几遍。</p></div><p><u>类型隐式转换可以归结为<code>number</code>、<code>string</code>和<code>boolean</code>等其它基础类型之间通过运算符<code>==</code>、<code>*、/、+、-</code>或逻辑运算的转换。</u>由于JS的弱类型特征，像<code>==</code>比较者可以为任意类型任意值，而<code>===</code>比较者的类型不同永远不会相等（<code>1 == 1</code>、<code>1 === &#39;1&#39;</code>）。</p><p>其实转换者可以是基础类型和对象类型，但归根还是基础类型之间的转换，<u>若转换者存在对象类型，会根据拆箱优先级进行拆箱转换为基础类型后</u>，然后在根据类型隐式转换的规则进行转换。</p><p>这里列出一张不同类型转换表格，里面包含了不同类型转换到原始值或其它基础类型的规则，通常情况下记住这张表的转换规则就可以解决所有隐式转换的问题了（当然对象类型转换为基础类型要学会前面讲的<a href="/frontend/js/implicit-conversion.html#拆箱toprimitive、-ordinarytoprimitive">拆箱规则</a>）。</p><table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:right;">值</th><th style="text-align:center;">to Boolean</th><th style="text-align:center;">to Number</th><th style="text-align:center;">to String</th></tr></thead><tbody><tr><td style="text-align:left;">Boolean</td><td style="text-align:right;">true</td><td style="text-align:center;">true</td><td style="text-align:center;">1</td><td style="text-align:center;">&#39;true&#39;</td></tr><tr><td style="text-align:left;">Boolean</td><td style="text-align:right;">false</td><td style="text-align:center;">false</td><td style="text-align:center;">0</td><td style="text-align:center;">&#39;false&#39;</td></tr><tr><td style="text-align:left;">Number</td><td style="text-align:right;">100</td><td style="text-align:center;">true</td><td style="text-align:center;">100</td><td style="text-align:center;">&#39;100&#39;</td></tr><tr><td style="text-align:left;">Number</td><td style="text-align:right;">Infinity</td><td style="text-align:center;">true</td><td style="text-align:center;">Infinity</td><td style="text-align:center;">&#39;Infinity&#39;</td></tr><tr><td style="text-align:left;">Number</td><td style="text-align:right;">0</td><td style="text-align:center;">false</td><td style="text-align:center;">0</td><td style="text-align:center;">&#39;0&#39;</td></tr><tr><td style="text-align:left;">Number</td><td style="text-align:right;">NaN</td><td style="text-align:center;">false</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;NaN&#39;</td></tr><tr><td style="text-align:left;">String</td><td style="text-align:right;">&#39;&#39;</td><td style="text-align:center;">false</td><td style="text-align:center;">0</td><td style="text-align:center;">&#39;&#39;</td></tr><tr><td style="text-align:left;">String</td><td style="text-align:right;">&#39;100&#39;</td><td style="text-align:center;">true</td><td style="text-align:center;">100</td><td style="text-align:center;">&#39;100&#39;</td></tr><tr><td style="text-align:left;">String</td><td style="text-align:right;">&#39;100abc&#39;</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;100abc&#39;</td></tr><tr><td style="text-align:left;">String</td><td style="text-align:right;">&#39;abc&#39;</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;abc&#39;</td></tr><tr><td style="text-align:left;">Null</td><td style="text-align:right;">null</td><td style="text-align:center;">false</td><td style="text-align:center;">0</td><td style="text-align:center;">&#39;null&#39;</td></tr><tr><td style="text-align:left;">Undefined</td><td style="text-align:right;">undefined</td><td style="text-align:center;">false</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;undefined&#39;</td></tr><tr><td style="text-align:left;">Function</td><td style="text-align:right;">function(){}</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;function(){}&#39;</td></tr><tr><td style="text-align:left;">Object</td><td style="text-align:right;">{}</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;[object Object]&#39;</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:right;">[]</td><td style="text-align:center;">true</td><td style="text-align:center;">0</td><td style="text-align:center;">&#39;&#39;</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:right;">[&#39;abc&#39;]</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;abc&#39;</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:right;">[&#39;123&#39;]</td><td style="text-align:center;">true</td><td style="text-align:center;">123</td><td style="text-align:center;">&#39;123&#39;</td></tr><tr><td style="text-align:left;">Array</td><td style="text-align:right;">[&#39;123&#39;, &#39;abc&#39;]</td><td style="text-align:center;">true</td><td style="text-align:center;">NaN</td><td style="text-align:center;">&#39;123,abc&#39;</td></tr><tr><td style="text-align:left;">Date</td><td style="text-align:right;">new Date</td><td style="text-align:center;">true</td><td style="text-align:center;">数字(时间戳)</td><td style="text-align:center;">&#39;Wed Nov 16 2020 16:51:31 GMT+0800 (中国标准时间)&#39;</td></tr><tr><td style="text-align:left;">Symbol</td><td style="text-align:right;">Symbol(&#39;a&#39;)</td><td style="text-align:center;">true</td><td style="text-align:center;">throw TypeError</td><td style="text-align:center;">throw TypeError</td></tr></tbody></table><h2 id="算术运算符转换" tabindex="-1">算术运算符转换 <a class="header-anchor" href="#算术运算符转换" aria-label="Permalink to &quot;算术运算符转换&quot;">​</a></h2><p>算术运算符主要包括<code>+、-、*、/</code>，除了<code>+</code>运算符外，其余算术运算符都针对的是数字number，也就是说运算双方都必须是或转换为数字，这个相对来说简单直接套上面的表格即可，而<code>+</code>运算符最为特殊，<code>+</code>不仅可以进行算术运算也可以进行字符串的拼接，同时也是最常见的隐式转换。</p><h3 id="减乘除" tabindex="-1">减乘除 <a class="header-anchor" href="#减乘除" aria-label="Permalink to &quot;减乘除&quot;">​</a></h3><p>参与双方若是基础类型都会转换为<code>number</code>类型，而一方为<u>引用类型时会先进行内部拆箱转换成<strong>最兼容number类型的基本类型</strong></u>，下面用一段代码加深下印象：</p><ol><li>string转number</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 0</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> *</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 0</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里<code>&#39;1&#39;</code>会涉及到<code>string =&gt; number</code>的转换，从上面的表格中得到转换值为<code>1</code>，而<code>&#39;1a&#39;</code>转换后并不能兼容数字所以是<code>NaN</code>。</p><ol start="2"><li>boolean转number</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 0</span><span style="color:#676E95;font-style:italic;">  // 1</span></span>
<span class="line"><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;"> *</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 1</span></span>
<span class="line"><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 0</span><span style="color:#676E95;font-style:italic;">  // 0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>true转换为1，false转换为0。</p><ol start="3"><li>undefined、null转number</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">undefined</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span>
<span class="line"><span style="color:#89DDFF;">null</span><span style="color:#89DDFF;"> -</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // -1</span></span>
<span class="line"><span style="color:#89DDFF;">null</span><span style="color:#89DDFF;"> *</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>undefined转换为NaN，null转换为0。</p><ol start="4"><li>对象类型转number</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">[] </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // -1</span></span>
<span class="line"><span style="color:#BABED8;">[] </span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 0</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 0</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span>
<span class="line"><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#82AAFF;"> Date</span><span style="color:#BABED8;">() </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // 1577836799999</span></span>
<span class="line"><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){}</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#82AAFF;"> RegExp</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">^</span><span style="color:#BABED8;">\w</span><span style="color:#C3E88D;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;">  // NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>对象类型会根据<code>OrdinaryToPrimitive</code>拆箱规则进行转换为基础类型number类型，然后进行计算。</p><p>以上便是<code>-、*、/</code>运算符转换为number类型的规则，比较简单。</p><h3 id="加运算" tabindex="-1">加运算 <a class="header-anchor" href="#加运算" aria-label="Permalink to &quot;加运算&quot;">​</a></h3><p>加法运算最为特殊同时也是类型转换最多的，不仅可以进行算术运算也可以进行字符串的拼接。其转换规则为：</p><ol><li>若一方是<code>string</code>类型，则另一方也会转换为字符串，进行字符串的拼接</li><li>若一方为<code>number</code>类型，另一方为原始类型，将其转换为number类型，进行算术相加。</li><li>若一方为<code>number</code>类型，另一方为引用类型，将其拆箱转换为基本类型后，进行字符串的拼接。</li></ol><blockquote><p>以上转换规则优先级从高到低进行转换。</p></blockquote><p>下面用几个例子演示这些规则：</p><p>转换规则1：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;"> // &#39;1&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#FF9CAC;"> true</span><span style="color:#676E95;font-style:italic;"> // &#39;true&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> undefined</span><span style="color:#676E95;font-style:italic;"> // &#39;strundefined&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> null</span><span style="color:#676E95;font-style:italic;"> // &#39;null&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> [] </span><span style="color:#676E95;font-style:italic;">// &#39;&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">] </span><span style="color:#676E95;font-style:italic;">// &#39;1&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">] </span><span style="color:#676E95;font-style:italic;">// &#39;1,2,3&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> {</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">}</span><span style="color:#676E95;font-style:italic;"> // &#39;[object Object]&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// &#39;function(){}&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>转换规则2：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;"> // 2</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#FF9CAC;"> true</span><span style="color:#676E95;font-style:italic;"> // 2</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> null</span><span style="color:#676E95;font-style:italic;"> // 1</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> undefined</span><span style="color:#676E95;font-style:italic;"> // NaN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>转换规则3：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> [] </span><span style="color:#676E95;font-style:italic;">// &#39;1&#39;</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">] </span><span style="color:#676E95;font-style:italic;">// &#39;11,2&#39;</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// &#39;1function(){}&#39;</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// &#39;1[objectObject]&#39;</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Date</span><span style="color:#BABED8;">() </span><span style="color:#676E95;font-style:italic;">// &#39;1Fri Dec 02 2020 11:40:48 GMT+0800 (中国标准时间)&#39;</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> +</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> RegExp</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">\s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">ig</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// &#39;1/s/gi&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>以上便是加法的隐式转换，根据上面三条规则的优先级进行转换，基础不同类型转换的值可以根据上面的表格进行判断，引用类型根据拆箱规则结合转换优先级即可。</p><h2 id="逻辑运算转换" tabindex="-1">逻辑运算转换 <a class="header-anchor" href="#逻辑运算转换" aria-label="Permalink to &quot;逻辑运算转换&quot;">​</a></h2><h3 id="运算转换" tabindex="-1">!运算转换 <a class="header-anchor" href="#运算转换" aria-label="Permalink to &quot;!运算转换&quot;">​</a></h3><p>逻辑运算的转换常见的就是<code>!</code>和<code>==</code>的转换，相对来说非常简单。一般像<code>null、undefined、0、&#39;&#39;、NaN、false</code>等为false外，其余的都是true（如：<code>[]、{}</code>等等）。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">!null</span><span style="color:#676E95;font-style:italic;"> // true</span></span>
<span class="line"><span style="color:#89DDFF;">!undefined</span><span style="color:#676E95;font-style:italic;"> // true</span></span>
<span class="line"><span style="color:#89DDFF;">!NaN</span><span style="color:#676E95;font-style:italic;"> // true</span></span>
<span class="line"><span style="color:#89DDFF;">!</span><span style="color:#BABED8;">[] </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"><span style="color:#89DDFF;">!{}</span><span style="color:#676E95;font-style:italic;"> // false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="运算转换-1" tabindex="-1">==运算转换 <a class="header-anchor" href="#运算转换-1" aria-label="Permalink to &quot;==运算转换&quot;">​</a></h3><p><code>==</code>转换规则一般总结为一下五条：</p><ul><li><code>NaN</code>和任何其他类型(包括自己)比较值都是false。</li><li><code>Boolean</code>和其他类型比较时，自己转化为<code>Number</code>类型然后进行比较.</li><li><code>Number</code>和<code>String</code>类型比较，将<code>String</code>类型转换为<code>Number</code>类型后进行比较。</li><li><code>undefined</code>除了和<code>null</code>比较结果为true外，其余的比较都是false。</li><li>原始值和引用类型进行比较时，引用类型根据拆箱规则转换成基础类型后进行比较。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#89DDFF;">NaN</span><span style="color:#89DDFF;"> ==</span><span style="color:#89DDFF;"> NaN</span><span style="color:#676E95;font-style:italic;"> // false</span></span>
<span class="line"><span style="color:#89DDFF;">NaN</span><span style="color:#89DDFF;"> ==</span><span style="color:#F78C6C;"> 0</span><span style="color:#676E95;font-style:italic;"> // false</span></span>
<span class="line"><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;"> ==</span><span style="color:#F78C6C;"> 2</span><span style="color:#676E95;font-style:italic;"> // false  true =&gt; 1</span></span>
<span class="line"><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> &#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#676E95;font-style:italic;"> // true  &#39;1&#39; =&gt; 1</span></span>
<span class="line"><span style="color:#89DDFF;">undefined</span><span style="color:#89DDFF;"> ==</span><span style="color:#89DDFF;"> null</span><span style="color:#676E95;font-style:italic;"> // true</span></span>
<span class="line"><span style="color:#89DDFF;">undefined</span><span style="color:#89DDFF;"> ==</span><span style="color:#89DDFF;"> NaN</span><span style="color:#676E95;font-style:italic;"> // false</span></span>
<span class="line"><span style="color:#89DDFF;">null</span><span style="color:#89DDFF;"> ==</span><span style="color:#FF9CAC;"> false</span><span style="color:#676E95;font-style:italic;"> // false</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">==</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;"> // true  [1] =&gt; 1</span></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">==</span><span style="color:#F78C6C;"> 1</span><span style="color:#676E95;font-style:italic;"> // false  [1,2] =&gt; &#39;1,2&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>到这里基本上学会了以上的内容，隐式转换就可以搞懂了，其实也没什么难度，把这些转换概念摸清楚就可以游刃有余。</p><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><p>有些同学可能看到这里，还没有完全掌握，这里就提供几个小菜，提供给大家练习，看和你的想法一直不，如果一直可以说清楚具体逻辑不，想法有出入那又是问什么？</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> []</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><details class="details custom-block"><summary>查看结果</summary><p>答案：<code>&#39;[object Object]&#39;</code>，两者首先拆箱转换为基础类型，<code>{} =&gt; [object Object]</code>、<code>[] =&gt; &#39;&#39;</code>然后进行字符串拼接</p></details><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">[] </span><span style="color:#89DDFF;">==</span><span style="color:#BABED8;"> []</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><details class="details custom-block"><summary>查看结果</summary><p>答案：false，这里不会进行拆箱，类型相同的变量会直接比较，两者都是引用类型，地址不同不会相等</p></details><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">[] </span><span style="color:#89DDFF;">==</span><span style="color:#89DDFF;"> !</span><span style="color:#BABED8;">[]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><details class="details custom-block"><summary>查看结果</summary><p>答案：true，<code>![]</code>先转换转换为false，<code>[]</code>进行拆箱变成0，<code>false</code>在转换成0</p></details><p>这里笔者发现一个有趣的问题，看看通过上面的知识你能解决吗：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 请让变量a满足以下条件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (a </span><span style="color:#89DDFF;">==</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#BABED8;"> a </span><span style="color:#89DDFF;">==</span><span style="color:#F78C6C;"> 2</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#BABED8;"> a </span><span style="color:#89DDFF;">==</span><span style="color:#F78C6C;"> 3</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><details class="details custom-block"><summary>查看结果</summary><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code"><code><span class="line"><span style="color:#BABED8;">a </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#F07178;">  value</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;"> 1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">  valueOf</span><span style="color:#89DDFF;">:()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#BABED8;"> a</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">++</span><span style="color:#BABED8;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>以上就是解决方案，是不是很简单。 首先要想a同时满足<code>1、2、3</code>的值，直接排除掉基础类型值，那么a一定是个引用类型，引用类型和基础类型的<code>==</code>比较，会通过拆箱规则转换，那么就会执行<code>valueOf、toString</code>方法，又根据拆箱优先级会先执行<code>valueOf</code>方法，那么在此方法做文章就可以了，每次读取值时进行自加，这样就会满足<code>1、2、3</code></p></details><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>本篇主要讲了JS怎么进行隐式转换的，通过拆箱和装箱了解到JS引擎对程序的包容性还是很高的，学会引用类型根据<code>toPrimitive</code>优先级规则进行转换，也学会了从简单的算术运算到逻辑运算的隐式转换规则。</p><p>相关参考:</p><ul><li><a href="https://tc39.es/ecma262/#sec-toprimitive" target="_blank" rel="noreferrer">https://tc39.es/ecma262/#sec-toprimitive</a></li><li><a href="https://source.chromium.org/chromium/chromium/src/+/main:third_party/devtools-frontend/src/node_modules/es-abstract/2020/OrdinaryToPrimitive.js;l=16?q=OrdinaryToPrimitive&amp;sq=&amp;ss=chromium" target="_blank" rel="noreferrer">https://source.chromium.org/chromium/chromium/src/+/main:third_party/devtools-frontend/src/node_modules/es-abstract/2020/OrdinaryToPrimitive.js;l=16?q=OrdinaryToPrimitive&amp;sq=&amp;ss=chromium</a></li><li><a href="https://www.youtube.com/watch?v=XYFg6_V-c9Q" target="_blank" rel="noreferrer">https://www.youtube.com/watch?v=XYFg6_V-c9Q</a></li></ul><!--[--><div class="reward-divider"></div><figure><figcaption> 若您在阅读过程中发现一些错误：如语句不通、文字、逻辑等错误，可以在评论区指出，我会及时调整修改，感谢您的阅读。同时您觉得这篇文章对您有帮助的话，可以打赏作者一笔作为鼓励，金额不限，感谢支持🤝。 </figcaption><div style="text-align:center;margin-top:2em;"><img style="display:inline;" src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/005HV6Avgy1h72anu40usj30dw0dw40j.jpg" width="200" alt="支付宝捐赠"><img style="display:inline;" src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/005HV6Avgy1h72ap99ym1j30b40b4abq.jpg" width="200" alt="微信支付捐赠"></div></figure><div class="reward-divider"></div><div class="share_wrap"><a href="#" target="_blank"><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-weibo.png" alt="share to weibo" title="分享到微博"></a><a href="#" target="_blank"><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-twitter.png" alt="share to twitter" title="分享到twitter"></a><a href="#" target="_blank"><img src="https://ihengshuai-demo1.oss-cn-beijing.aliyuncs.com/icon-facebook.png" alt="share to facebook" title="分享到facebook"></a></div><!--]--><!----></div></div></main><footer class="VPDocFooter" data-v-fb80de84 data-v-a4d10c8e><!--[--><!--]--><div class="edit-info" data-v-a4d10c8e><!----><div class="last-updated" data-v-a4d10c8e><p class="VPLastUpdated" data-v-a4d10c8e data-v-86563300>最近更新: <time datetime="2024-03-03T04:31:19.000Z" data-v-86563300></time></p></div></div><nav class="prev-next" data-v-a4d10c8e><div class="pager" data-v-a4d10c8e><a class="VPLink link pager-link prev" href="/article/2019/promise.html" data-v-a4d10c8e><!--[--><span class="desc" data-v-a4d10c8e>Previous page</span><span class="title" data-v-a4d10c8e>Promise使用与原理</span><!--]--></a></div><div class="pager" data-v-a4d10c8e><a class="VPLink link pager-link next" href="/article/2019/what-bfc.html" data-v-a4d10c8e><!--[--><span class="desc" data-v-a4d10c8e>Next page</span><span class="title" data-v-a4d10c8e>什么是BFC</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-e69ff593 data-v-e09097b5><div class="container" data-v-e09097b5><p class="message" data-v-e09097b5>Released under the MIT License.</p><p class="copyright" data-v-e09097b5>Copyright © 2018-2024 HengShuai</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"frontend_babel_babel-analysis.md\":\"wGpC9j4r\",\"frontend_babel_babel-plugin-guide.md\":\"ppFJFpUc\",\"frontend_babel_base.md\":\"vrUaWuJ_\",\"frontend_base.md\":\"dwQglb_Z\",\"frontend_browser_base.md\":\"8v9kmWYQ\",\"frontend_building-tool_base.md\":\"IZjj-1k_\",\"frontend_canvas_base.md\":\"4FFeOXMN\",\"frontend_canvas_magic-effects.md\":\"d72-kJZY\",\"frontend_cli_index.md\":\"LW95mYz4\",\"frontend_compiler_index.md\":\"kb3LvP4F\",\"article_2021_vue-img-lazyload.md\":\"nS2xctKa\",\"frontend_computer-network_arp-protocol.md\":\"Kq6yx99o\",\"article_2020_vscode-shortcut.md\":\"9YPtkAQd\",\"article_2020_web-cache.md\":\"tgnHisxs\",\"article_2019_mysql-guide.md\":\"sVywMOTl\",\"article_2021_pwa-app.md\":\"OleMbyZc\",\"article_2021_vue-core-process.md\":\"lvBKNU2P\",\"article_2019_js-type-transfer.md\":\"6bgN44L7\",\"frontend_computer-network_base.md\":\"rscsR2cq\",\"article_base.md\":\"MRVl6scQ\",\"article_2022_emoji-markup.md\":\"OhV-I-1u\",\"article_2019_what-bfc.md\":\"3X8ih4fR\",\"article_2021_ts-decorator.md\":\"t9oGw5oN\",\"article_2020_webpack-guide.md\":\"4hgG0rTv\",\"article_2021_js-pattern.md\":\"s7bHowR9\",\"article_2021_flex-layout.md\":\"Svx6-bGi\",\"article_2019_nvm-guide.md\":\"DOn-ZyKp\",\"article_2019_ktv-system.md\":\"8zwU_3Hs\",\"article_2020_optimize-web-server.md\":\"zI4x4pon\",\"article_2019_css-center.md\":\"39T7ILEY\",\"article_2020_domparser-xml.md\":\"14rZ0LzC\",\"frontend_nginx_base.md\":\"zoU8TEMt\",\"article_2019_promise.md\":\"PPpH3Goo\",\"article_2019_bind-call-apply.md\":\"sKjhWUC_\",\"article_2019_js-copy.md\":\"aASz1f6e\",\"article_2020_regexp-guide.md\":\"Hz2CcED7\",\"article_2021_performance-tools.md\":\"f1ArMVK_\",\"frontend_performance_chunk-upload.md\":\"_H6a4GPM\",\"frontend_performance_load-perf.md\":\"GBvTUzYN\",\"frontend_performance_network-perf.md\":\"5sGmco83\",\"frontend_performance_cache.md\":\"GADg4UGM\",\"frontend_performance_performance.md\":\"eTHaQNUO\",\"frontend_performance_range-download.md\":\"hDSmWOR2\",\"frontend_performance_secure-perf.md\":\"1SJRKrnr\",\"frontend_performance_seo.md\":\"nVWyT-cr\",\"frontend_performance_virtual-scroll-1.md\":\"GMhzOTOC\",\"frontend_performance_virtual-scroll-2.md\":\"Tf9Xw2tC\",\"frontend_performance_web-score.md\":\"t6trh2aX\",\"frontend_project-integration_base.md\":\"H9p7xZIC\",\"frontend_project-integration_build-tool.md\":\"YEHYzLz2\",\"frontend_debug-skill_base.md\":\"ardgOXee\",\"frontend_debug-skill_charles.md\":\"c860e4Ce\",\"frontend_debug-skill_chrome.md\":\"VolKnY9H\",\"frontend_computer-network_ip-protocol.md\":\"cYsrbBjs\",\"frontend_project-integration_debugger-skill.md\":\"gdFZBkWV\",\"frontend_project-integration_deploy-specification.md\":\"TAZbHJxr\",\"frontend_project-integration_framework.md\":\"5X0ugAP5\",\"frontend_project-integration_git-commit.md\":\"hau9b8OP\",\"frontend_project-integration_monorepo.md\":\"vk1tlUoK\",\"frontend_project-integration_specification.md\":\"FUpSWKJb\",\"frontend_project-integration_style.md\":\"6YvYxYxO\",\"frontend_react_index.md\":\"WCWdbrtn\",\"frontend_regexp_base.md\":\"bxZXRG-x\",\"frontend_render-mode_base.md\":\"awKqNZtj\",\"frontend_sandbox_index.md\":\"gXXOpt2O\",\"frontend_ts_base.md\":\"EsuvODQ8\",\"frontend_vue_computed-watch.md\":\"ViMqGS60\",\"frontend_vue_pinia.md\":\"sFmcIG8v\",\"frontend_vue_router.md\":\"oywyEaoK\",\"frontend_vue_slot.md\":\"-cpDvOd1\",\"frontend_vue_template-compiler.md\":\"BoDuPu-F\",\"frontend_vue_transition.md\":\"oLOqknqJ\",\"frontend_debug-skill_h5.md\":\"JqHXkiol\",\"frontend_vue_update-process.md\":\"k6l2RNx4\",\"frontend_debug-skill_vscode.md\":\"bJXMRiLv\",\"frontend_vue_vuex.md\":\"mDVwtyM1\",\"frontend_wasm_base.md\":\"wKzjPpun\",\"frontend_debug-skill_wireshark.md\":\"h-Af8Z2N\",\"frontend_desktop-app_index.md\":\"CwmxVITt\",\"frontend_webpack_webpack-analysis.md\":\"B7vs5RGV\",\"frontend_editor_index.md\":\"Z3QRmU7I\",\"frontend_webpack_webpack-loader.md\":\"H5WVjPyO\",\"frontend_js_async.md\":\"xM2atz8E\",\"frontend_node-bff_index.md\":\"uvIlJlnt\",\"frontend_js_audio.md\":\"SxVGBXDx\",\"frontend_webpack_webpack-node.md\":\"wv3teGYs\",\"frontend_js_base.md\":\"xDEIN0Le\",\"frontend_webpack_webpack-plugin.md\":\"9tSSq7pn\",\"fullstack_base.md\":\"I4wE93qI\",\"fullstack_docker_base-tutorial.md\":\"9ZJDDyO1\",\"fullstack_docker_docker-compose.md\":\"zjlwGtUy\",\"frontend_js_binary.md\":\"APMVe8ro\",\"fullstack_docker_docker-repository.md\":\"wBmXzDQl\",\"frontend_js_eventloop.md\":\"F1aGIeQj\",\"frontend_js_implicit-conversion.md\":\"z9evaHOi\",\"fullstack_docker_dockerfile.md\":\"3YPLdvgt\",\"frontend_js_js-gc.md\":\"zQJ4SnO7\",\"frontend_js_meta-coding.md\":\"doArwweu\",\"fullstack_docker_install-configure.md\":\"ycQmqQb6\",\"frontend_lowcoding_base.md\":\"1AMtoVOM\",\"frontend_micro-frontend_base.md\":\"VCogbXGF\",\"frontend_monitor_base.md\":\"1PrBd---\",\"fullstack_docker_network.md\":\"sG-Vuzgw\",\"fullstack_docker_npm-repository.md\":\"xNRdDnzE\",\"fullstack_docker_volume-store.md\":\"AmWixEc_\",\"frontend_nestjs_swagger.md\":\"Miz3IuZP\",\"fullstack_gitlab_gitlab-pipeline.md\":\"2PnzZMhY\",\"fullstack_gitlab_gitlab-runner-install-configure.md\":\"AcLdY8_f\",\"fullstack_gitlab_install-configure.md\":\"hsqEggJv\",\"frontend_nestjs_base.md\":\"GEmB31Yt\",\"frontend_nestjs_mvc.md\":\"G7xy_a_Y\",\"frontend_nestjs_useful.md\":\"5BxCDwjN\",\"frontend_node-optimize_index.md\":\"9iTkxv8U\",\"frontend_node_base.md\":\"f045EATv\",\"frontend_node_node-debug.md\":\"VzMrpiGN\",\"fullstack_k8s_install.md\":\"shPzlnU9\",\"frontend_node_node-web.md\":\"BA0Qp_xe\",\"frontend_performance_node-score.md\":\"GHFkv_LH\",\"frontend_npm_index.md\":\"cPGRzDNd\",\"frontend_performance_base.md\":\"boqnWWao\",\"frontend_performance_cache-perf.md\":\"c67R59ai\",\"index.md\":\"DNChHY-j\",\"me.md\":\"9KzOPl0U\",\"super-nav_index.md\":\"sa1sp0Lq\",\"talk_2023_dad-foot-injured.md\":\"e316_81h\",\"talk_2023_lose-qoo-job.md\":\"wc9xrS2F\",\"talk_2023_love-4th-anniversary.md\":\"EL8i9jjc\",\"talk_2023_second-covid.md\":\"DQ3RHk2a\",\"talk_base.md\":\"bc9zk1r_\",\"frontend_computer-network_http-protocol.md\":\"bfrkeSkr\",\"frontend_project-integration_choose-editor.md\":\"0gNbjQse\",\"frontend_project-integration_ci-pipeline.md\":\"qrLOyYjp\",\"frontend_flutter_base.md\":\"yyvMr_gq\",\"frontend_node_node-framework.md\":\"G8o8zeYS\",\"frontend_debug-skill_fiddler.md\":\"NqneAeW9\",\"frontend_js_proto-inherit.md\":\"E5dVTnVb\",\"frontend_micro-program_index.md\":\"yyQYNhB6\",\"frontend_vue_reactivity.md\":\"9xkgqhJY\",\"frontend_webpack_base.md\":\"C2knYA00\",\"frontend_hybrid-app_base.md\":\"-Vm4xYDr\",\"frontend_node_node-measure.md\":\"4GqjVgP8\",\"frontend_node_node-process.md\":\"Ps4VtoHq\",\"frontend_project-integration_test-framework.md\":\"zZle5pVy\",\"frontend_computer-network_tcp-protocol.md\":\"fep1PHVR\",\"frontend_ts_ts-configure.md\":\"rAao85Hb\",\"frontend_visual_index.md\":\"qSiOl_Sl\",\"frontend_vue_component-render.md\":\"ZCTZuvWu\",\"frontend_js_scope-closure.md\":\"5EWzSuzB\",\"fullstack_k8s_base.md\":\"3Tzy-t_S\",\"fullstack_gitlab_npm-repository.md\":\"vjG8GM3X\",\"frontend_pattern_base.md\":\"GAbsFqbU\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"hengshuai's blog\",\"description\":\"大家好我是卫恒帅，这是我的个人博客，在这里我会分享web开发相关技能经验，也有自己的一些生活所思所悟，希望对你有所帮助，如你感觉不错可以将本站收藏！\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"externalLinkIcon\":true,\"logoLink\":\"/\",\"siteTitle\":\"Hengshuai's blog\",\"outline\":[2,3],\"outlineTitle\":\"目录\",\"nav\":[{\"text\":\"Frontend\",\"link\":\"/frontend/base.html\",\"activeMatch\":\"/frontend/base\"},{\"text\":\"Fullstack\",\"link\":\"/fullstack/base.html\",\"activeMatch\":\"/fullstack/base\"},{\"text\":\"Article\",\"link\":\"/article/base.html\",\"activeMatch\":\"/article/base\"},{\"text\":\"Case\",\"link\":\"https://case.usword.cn\"},{\"text\":\"Me\",\"link\":\"/me.html\",\"activeMatch\":\"/me\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ihengshuai\"}],\"sidebar\":{\"/frontend/\":[{\"collapsible\":true,\"items\":[{\"text\":\"Javascript\",\"collapsed\":false,\"link\":\"/frontend/js/base.html\",\"items\":[{\"text\":\"原型、原型链与继承\",\"link\":\"/frontend/js/proto-inherit.html\"},{\"text\":\"作用域(链)、执行上下文及闭包\",\"link\":\"/frontend/js/scope-closure.html\"},{\"text\":\"类型隐式转换\",\"link\":\"/frontend/js/implicit-conversion.html\"},{\"text\":\"事件循环(EventLoop)\",\"link\":\"/frontend/js/eventloop.html\"},{\"text\":\"异步编程\",\"link\":\"/frontend/js/async.html\"},{\"text\":\"元编程\",\"link\":\"/frontend/js/meta-coding.html\"},{\"text\":\"二进制\",\"link\":\"/frontend/js/binary.html\"},{\"text\":\"音视频\",\"link\":\"/frontend/js/audio.html\"},{\"text\":\"垃圾回收\",\"link\":\"/frontend/js/js-gc.html\"}]},{\"text\":\"Browser\",\"link\":\"/frontend/browser/base.html\"},{\"text\":\"Vue\",\"collapsed\":true,\"items\":[{\"text\":\"响应式原理\",\"link\":\"/frontend/vue/reactivity.html\"},{\"text\":\"计算属性与侦听函数\",\"link\":\"/frontend/vue/computed-watch.html\"},{\"text\":\"模板编译\",\"link\":\"/frontend/vue/template-compiler.html\"},{\"text\":\"组件创建与渲染\",\"link\":\"/frontend/vue/component-render.html\"},{\"text\":\"视图更新流程\",\"link\":\"/frontend/vue/update-process.html\"},{\"text\":\"插槽原理\",\"link\":\"/frontend/vue/slot.html\"},{\"text\":\"实现过渡\",\"link\":\"/frontend/vue/transition.html\"},{\"text\":\"vuex内幕\",\"link\":\"/frontend/vue/vuex.html\"},{\"text\":\"pinia原理\",\"link\":\"/frontend/vue/pinia.html\"},{\"text\":\"路由实现\",\"link\":\"/frontend/vue/router.html\"}]},{\"text\":\"Regexp\",\"link\":\"/frontend/regexp/base.html\"},{\"text\":\"Babel\",\"collapsed\":true,\"items\":[{\"text\":\"基本使用\",\"link\":\"/frontend/babel/base.html\"},{\"text\":\"原理分析\",\"link\":\"/frontend/babel/babel-analysis.html\"},{\"text\":\"自定义插件\",\"link\":\"/frontend/babel/babel-plugin-guide.html\"}]},{\"text\":\"Webpack\",\"collapsed\":true,\"items\":[{\"text\":\"基本使用\",\"link\":\"/frontend/webpack/base.html\"},{\"text\":\"自定义loader\",\"link\":\"/frontend/webpack/webpack-loader.html\"},{\"text\":\"自定义插件\",\"link\":\"/frontend/webpack/webpack-plugin.html\"},{\"text\":\"结合node使用\",\"link\":\"/frontend/webpack/webpack-node.html\"},{\"text\":\"原理分析\",\"link\":\"/frontend/webpack/webpack-analysis.html\"}]},{\"text\":\"Building Tool\",\"link\":\"/frontend/building-tool/base.html\"},{\"text\":\"Debug Skill\",\"collapsed\":true,\"link\":\"/frontend/debug-skill/base.html\",\"items\":[{\"text\":\"Chrome\",\"link\":\"/frontend/debug-skill/chrome.html\"},{\"text\":\"Vscode\",\"link\":\"/frontend/debug-skill/vscode.html\"},{\"text\":\"Fiddler\",\"link\":\"/frontend/debug-skill/fiddler.html\"},{\"text\":\"Charles\",\"link\":\"/frontend/debug-skill/charles.html\"},{\"text\":\"Wireshark\",\"link\":\"/frontend/debug-skill/wireshark.html\"},{\"text\":\"H5\",\"link\":\"/frontend/debug-skill/h5.html\"}]},{\"text\":\"NodeJS\",\"collapsed\":true,\"items\":[{\"text\":\"基本使用\",\"link\":\"/frontend/node/base.html\"},{\"text\":\"web服务\",\"link\":\"/frontend/node/node-web.html\"},{\"text\":\"多进程与多线程\",\"link\":\"/frontend/node/node-process.html\"},{\"text\":\"常见框架\",\"link\":\"/frontend/node/node-framework.html\"},{\"text\":\"调试技巧\",\"link\":\"/frontend/node/node-debug.html\"},{\"text\":\"性能优化\",\"link\":\"/frontend/node/node-measure.html\"}]},{\"text\":\"Typescript\",\"collapsed\":true,\"items\":[{\"text\":\"1.基本使用\",\"link\":\"/frontend/ts/base.html\"},{\"text\":\"2.配置文件\",\"link\":\"/frontend/ts/ts-configure.html\"}]},{\"text\":\"NestJS\",\"collapsed\":true,\"items\":[{\"text\":\"1.基本使用\",\"link\":\"/frontend/nestjs/base.html\"},{\"text\":\"2.搭建web服务\",\"link\":\"/frontend/nestjs/mvc.html\"},{\"text\":\"3.swagger文档\",\"link\":\"/frontend/nestjs/swagger.html\"},{\"text\":\"4.实用手册\",\"link\":\"/frontend/nestjs/useful.html\"}]},{\"text\":\"Render Mode\",\"link\":\"/frontend/render-mode/base.html\"},{\"text\":\"Canvas\",\"collapsed\":true,\"items\":[{\"text\":\"1.基本使用\",\"link\":\"/frontend/canvas/base.html\"},{\"text\":\"2.炫酷特效\",\"link\":\"/frontend/canvas/magic-effects.html\"}]},{\"text\":\"Project Integration\",\"collapsed\":true,\"items\":[{\"text\":\"1.项目集成\",\"link\":\"/frontend/project-integration/base.html\"},{\"text\":\"2.编辑器之争\",\"link\":\"/frontend/project-integration/choose-editor.html\"},{\"text\":\"3.框架选型\",\"link\":\"/frontend/project-integration/framework.html\"},{\"text\":\"4.打包工具\",\"link\":\"/frontend/project-integration/build-tool.html\"},{\"text\":\"5.语法规范\",\"link\":\"/frontend/project-integration/specification.html\"},{\"text\":\"6.风格指南\",\"link\":\"/frontend/project-integration/style.html\"},{\"text\":\"7.提交规范\",\"link\":\"/frontend/project-integration/git-commit.html\"},{\"text\":\"8.monorepo\",\"link\":\"/frontend/project-integration/monorepo.html\"},{\"text\":\"9.自动化测试\",\"link\":\"/frontend/project-integration/test-framework.html\"},{\"text\":\"10.发布规范\",\"link\":\"/frontend/project-integration/deploy-specification.html\"},{\"text\":\"11.调试技巧\",\"link\":\"/frontend/project-integration/debugger-skill.html\"},{\"text\":\"12.自动化\",\"link\":\"/frontend/project-integration/ci-pipeline.html\"}]},{\"text\":\"Computer Network\",\"collapsed\":true,\"link\":\"/frontend/computer-network/base.html\",\"items\":[{\"text\":\"TCP协议\",\"link\":\"/frontend/computer-network/tcp-protocol.html\"},{\"text\":\"HTTP协议\",\"link\":\"/frontend/computer-network/http-protocol.html\"},{\"text\":\"IP协议\",\"link\":\"/frontend/computer-network/ip-protocol.html\"},{\"text\":\"ARP协议\",\"link\":\"/frontend/computer-network/arp-protocol.html\"}]},{\"text\":\"Performance\",\"collapsed\":true,\"items\":[{\"text\":\"前言\",\"link\":\"/frontend/performance/base.html\"},{\"text\":\"大文件上传\",\"link\":\"/frontend/performance/chunk-upload.html\"},{\"text\":\"大文件下载\",\"link\":\"/frontend/performance/range-download.html\"},{\"text\":\"虚拟滚动一\",\"link\":\"/frontend/performance/virtual-scroll-1.html\"},{\"text\":\"虚拟滚动二\",\"link\":\"/frontend/performance/virtual-scroll-2.html\"},{\"text\":\"网络优化\",\"link\":\"/frontend/performance/network-perf.html\"},{\"text\":\"加载优化\",\"link\":\"/frontend/performance/load-perf.html\"},{\"text\":\"缓存优化\",\"link\":\"/frontend/performance/cache-perf.html\"},{\"text\":\"安全优化\",\"link\":\"/frontend/performance/secure-perf.html\"},{\"text\":\"SEO优化\",\"link\":\"/frontend/performance/seo.html\"},{\"text\":\"Performance工具\",\"link\":\"/frontend/performance/performance.html\"},{\"text\":\"web评分指标\",\"link\":\"/frontend/performance/web-score.html\"},{\"text\":\"node评分指标\",\"link\":\"/frontend/performance/node-score.html\"}]},{\"text\":\"Nginx\",\"link\":\"/frontend/nginx/base.html\"},{\"text\":\"Design Pattern\",\"link\":\"/frontend/pattern/base.html\"},{\"text\":\"Monitor\",\"link\":\"/frontend/monitor/base.html\"},{\"text\":\"Micro Frontend\",\"link\":\"/frontend/micro-frontend/base.html\"},{\"text\":\"Webassembly\",\"link\":\"/frontend/wasm/base.html\"},{\"text\":\"Hybrid App\",\"link\":\"/frontend/hybrid-app/base.html\"},{\"text\":\"Flutter\",\"link\":\"/frontend/flutter/base.html\"}]}],\"/fullstack/\":[{\"text\":\"Docker\",\"items\":[{\"items\":[{\"text\":\"Docker安装与配置\",\"link\":\"/fullstack/docker/install-configure.html\"},{\"text\":\"Docker基础教程\",\"link\":\"/fullstack/docker/base-tutorial.html\"},{\"text\":\"Docker数据卷与持久化\",\"link\":\"/fullstack/docker/volume-store.html\"},{\"text\":\"Docker网络原理\",\"link\":\"/fullstack/docker/network.html\"},{\"text\":\"使用Dockerfile构建镜像\",\"link\":\"/fullstack/docker/dockerfile.html\"},{\"text\":\"使用DockerCompose部署服务\",\"link\":\"/fullstack/docker/docker-compose.html\"},{\"text\":\"使用Docker搭建npm仓库\",\"link\":\"/fullstack/docker/npm-repository.html\"},{\"text\":\"搭建docker私有仓库\",\"link\":\"/fullstack/docker/docker-repository.html\"}]}]},{\"text\":\"Gitlab\",\"items\":[{\"items\":[{\"text\":\"安装与配置\",\"link\":\"/fullstack/gitlab/install-configure.html\"},{\"text\":\"Gitlab Runner安装与配置\",\"link\":\"/fullstack/gitlab/gitlab-runner-install-configure.html\"},{\"text\":\"Gitlab流水线配置\",\"link\":\"/fullstack/gitlab/gitlab-pipeline.html\"},{\"text\":\"Gitlab搭建npm仓库\",\"link\":\"/fullstack/gitlab/npm-repository.html\"}]}]},{\"text\":\"Kubernetes\",\"items\":[{\"items\":[{\"text\":\"初识kubernetes\",\"link\":\"/fullstack/k8s/base.html\"},{\"text\":\"搭建k8s集群\",\"link\":\"/fullstack/k8s/install.html\"}]}]}],\"/article/\":[{\"text\":\"2022\",\"items\":[{\"items\":[{\"text\":\"emoji markup\",\"link\":\"/article/2022/emoji-markup.html\"}]}]},{\"text\":\"2021\",\"items\":[{\"items\":[{\"text\":\"PWA渐进式应用\",\"link\":\"/article/2021/pwa-app.html\"},{\"text\":\"前端性能测试工具\",\"link\":\"/article/2021/performance-tools.html\"},{\"text\":\"Typescript装饰器指南\",\"link\":\"/article/2021/ts-decorator.html\"},{\"text\":\"手写vue图片懒加载插件\",\"link\":\"/article/2021/vue-img-lazyload.html\"},{\"text\":\"谈谈vue内部运行机制\",\"link\":\"/article/2021/vue-core-process.html\"},{\"text\":\"JS中的设计模式\",\"link\":\"/article/2021/js-pattern.html\"},{\"text\":\"flex布局\",\"link\":\"/article/2021/flex-layout.html\"}]}]},{\"text\":\"2020\",\"items\":[{\"items\":[{\"text\":\"关于DOMParser、XMLSerializer、createTreeWalker使用\",\"link\":\"/article/2020/domparser-xml.html\"},{\"text\":\"vscode快捷键\",\"link\":\"/article/2020/vscode-shortcut.html\"},{\"text\":\"优化改善网页的加载及性能\",\"link\":\"/article/2020/optimize-web-server.html\"},{\"text\":\"深入浅出RegExp\",\"link\":\"/article/2020/regexp-guide.html\"},{\"text\":\"从零配置webpack工程\",\"link\":\"/article/2020/webpack-guide.html\"},{\"text\":\"web缓存策略\",\"link\":\"/article/2020/web-cache.html\"}]}]},{\"text\":\"2019\",\"items\":[{\"items\":[{\"text\":\"nvm使用技巧\",\"link\":\"/article/2019/nvm-guide.html\"},{\"text\":\"MySQL从入门到放弃\",\"link\":\"/article/2019/mysql-guide.html\"},{\"text\":\"7天撸完ktv点歌系统\",\"link\":\"/article/2019/ktv-system.html\"},{\"text\":\"css的10中居中方式\",\"link\":\"/article/2019/css-center.html\"},{\"text\":\"Promise使用与原理\",\"link\":\"/article/2019/promise.html\"},{\"text\":\"JS隐式转换\",\"link\":\"/article/2019/js-type-transfer.html\"},{\"text\":\"什么是BFC\",\"link\":\"/article/2019/what-bfc.html\"},{\"text\":\"JS深浅拷贝\",\"link\":\"/article/2019/js-copy.html\"},{\"text\":\"bind、call、apply使用技巧\",\"link\":\"/article/2019/bind-call-apply.html\"}]}]}],\"/talk/\":[{\"items\":[{\"items\":[{\"text\":\"我也赶上了裁员\",\"link\":\"/talk/2023/lose-qoo-job.html\"},{\"text\":\"我爸脚受伤了\",\"link\":\"/talk/2023/dad-foot-injured.html\"},{\"text\":\"二🐑了\",\"link\":\"/talk/2023/second-covid.html\"}]}]}]},\"lastUpdated\":{\"text\":\"最近更新\",\"formatOptions\":{\"dateStyle\":\"medium\"}},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2018-2024 HengShuai\"},\"search\":{\"options\":{\"detailedView\":true,\"miniSearch\":{\"searchOptions\":{\"fields\":[\"title\",\"text\"]}}},\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>